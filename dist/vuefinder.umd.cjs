(function(e,be){typeof exports=="object"&&typeof module<"u"?module.exports=be(require("vue"),require("plupload")):typeof define=="function"&&define.amd?define(["vue","plupload"],be):(e=typeof globalThis<"u"?globalThis:e||self,e.VueFinder=be(e.Vue,e.plupload))})(this,function(e,be){var vn;"use strict";const nt=(vn=document.querySelector('meta[name="csrf-token"]'))==null?void 0:vn.getAttribute("content"),ot=(n,{method:t="get",params:o={},json:i=!0,signal:c=null})=>{const s={method:t};if(s.signal=c,s.credentials="include",t=="get")n+="?"+new URLSearchParams(o),n=n.replace(/\+/g,"%20");else{s.headers={},nt&&(s.headers["X-CSRF-Token"]=nt);let u=new FormData;for(const[g,l]of Object.entries(o))u.append(g,l);s.body=u}return fetch(n,s).then(u=>u.ok?i?u.json():u.text():u.json().then(Promise.reject.bind(Promise)))};function Vn(n){return{all:n=n||new Map,on:function(t,o){var i=n.get(t);i?i.push(o):n.set(t,[o])},off:function(t,o){var i=n.get(t);i&&(o?i.splice(i.indexOf(o)>>>0,1):n.set(t,[]))},emit:function(t,o){var i=n.get(t);i&&i.slice().map(function(c){c(o)}),(i=n.get("*"))&&i.slice().map(function(c){c(t,o)})}}}function wt(n){let t=localStorage.getItem(n+"_storage");const o=e.ref(JSON.parse(t));e.watch(o,i);function i(){o.value===null||o.value===""?localStorage.removeItem(n+"_storage"):localStorage.setItem(n+"_storage",JSON.stringify(o.value))}function c(g,l){o.value=Object.assign({...o.value},{[g]:l})}function s(){o.value=null}return{getStore:(g,l=null)=>o.value===null||o.value===""?l:o.value.hasOwnProperty(g)?o.value[g]:l,setStore:c,clearStore:s}}const nr=e.ref("");function Se(){function n(t){nr.value=t}return{apiUrl:nr,setApiUrl:n}}const Tn={class:"border-neutral-300 flex justify-between items-center py-1 text-sm"},Mn={key:0,class:"flex text-center"},An=["aria-label"],Bn=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1)],$n=["aria-label"],In=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"},null,-1)],On=["aria-label"],Ln=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1)],jn=["aria-label"],Pn=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-8 md:w-8 m-auto cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1)],zn={key:1,class:"flex text-center"},Rn={class:"pl-2"},Hn={class:"dark:bg-gray-700 bg-gray-200 text-xs px-2 py-1 rounded"},Fn={key:0,class:"animate-spin p-0.5 h-5 w-5 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Un=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],Yn={class:"flex text-center items-center justify-end"},Kn=["aria-label"],Wn=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"},null,-1)],Xn=["aria-label"],Zn={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"},qn={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"},Gn=Object.assign({name:"VFToolbar"},{props:{data:Object},setup(n){const t=e.inject("emitter"),o=e.inject("userRole"),i=e.inject("usePropDarkMode"),c=e.inject("uploadOverrideEvent"),{getStore:s,setStore:u}=e.inject("storage"),{t:g}=e.inject("i18n"),l=e.ref(s("viewport","grid")),y=e.ref([]);e.ref(s("full-screen",!1));const p=e.ref("");t.on("vf-search-query",({newQuery:D})=>{p.value=D});const b=e.inject("loadingState"),S=()=>b.value;t.on("vf-nodes-selected",D=>{y.value=D}),t.on("vf-view-toggle",D=>{u("viewport",D),l.value=D});const N=e.computed(()=>o==="admin"),E=e.computed(()=>o==="ae");return(D,_)=>(e.openBlock(),e.createElementBlock("div",Tn,[p.value.length?(e.openBlock(),e.createElementBlock("div",zn,[e.createElementVNode("div",Rn,[e.createTextVNode(e.toDisplayString(e.unref(g)("Search results for"))+" ",1),e.createElementVNode("span",Hn,e.toDisplayString(p.value),1)]),S()?(e.openBlock(),e.createElementBlock("svg",Fn,Un)):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",Mn,[N.value||E.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"mx-1.5","aria-label":e.unref(g)("New Folder"),"data-microtip-position":"bottom-right",role:"tooltip",onClick:_[0]||(_[0]=A=>e.unref(t).emit("vf-modal-show",{type:"new-folder",items:y.value}))},Bn,8,An)):e.createCommentVNode("",!0),N.value||E.value?(e.openBlock(),e.createElementBlock("div",{key:1,class:"mx-1.5","aria-label":e.unref(g)("Edit"),"data-microtip-position":"bottom",role:"tooltip",onClick:_[1]||(_[1]=A=>e.unref(t).emit("ca-edit",{type:"edit",items:y.value,current:n.data}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([y.value.length>0?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},In,2))],8,$n)):e.createCommentVNode("",!0),N.value||E.value?(e.openBlock(),e.createElementBlock("div",{key:2,class:"mx-1.5","aria-label":e.unref(g)("Delete"),"data-microtip-position":"bottom",role:"tooltip",onClick:_[2]||(_[2]=A=>!y.value.length||e.unref(t).emit("vf-modal-show",{type:"delete",items:y.value}))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([y.value.length?"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300":"stroke-gray-200  dark:stroke-gray-700","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},Ln,2))],8,On)):e.createCommentVNode("",!0),N.value||E.value?(e.openBlock(),e.createElementBlock("div",{key:3,class:"mx-1.5","aria-label":e.unref(g)("Upload"),"data-microtip-position":"bottom",role:"tooltip",onClick:_[3]||(_[3]=A=>e.unref(t).emit(e.unref(c)?e.unref(c):"vf-modal-show",{type:"upload",items:y.value,current:n.data}))},Pn,8,jn)):e.createCommentVNode("",!0)])),e.createElementVNode("div",Yn,[e.withDirectives(e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(g)("Dark Mode"),"data-microtip-position":"bottom",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:_[4]||(_[4]=A=>e.unref(t).emit("vf-darkMode-toggle")),viewBox:"0 0 24 24","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6 m-auto cursor-pointer stroke-sky-500 fill-sky-100 hover:stroke-sky-600 dark:stroke-gray-400 dark:fill-gray-400/20 dark:hover:stroke-gray-300"},Wn))],8,Kn),[[e.vShow,!e.unref(i)]]),e.createElementVNode("div",{class:"mx-1.5","aria-label":e.unref(g)("Change View"),"data-microtip-position":"bottom-left",role:"tooltip",onClick:_[5]||(_[5]=A=>p.value.length||e.unref(t).emit("vf-view-toggle",l.value=="list"?"grid":"list"))},[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass([p.value.length?"stroke-gray-200  dark:stroke-gray-700":"cursor-pointer stroke-gray-500 hover:stroke-cyan-700 dark:stroke-gray-400 dark:hover:stroke-gray-300","h-6 w-6 md:h-8 md:w-8 m-auto"]),fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[l.value=="grid"?(e.openBlock(),e.createElementBlock("path",Zn)):e.createCommentVNode("",!0),l.value=="list"?(e.openBlock(),e.createElementBlock("path",qn)):e.createCommentVNode("",!0)],2))],8,Xn)])]))}});var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var or={exports:{}};(function(n,t){(function(o,i){n.exports=i()})(Jn,function(){function o(d,h){var r=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(r!=null){var m,a,f,v,w=[],x=!0,O=!1;try{if(f=(r=r.call(d)).next,h===0){if(Object(r)!==r)return;x=!1}else for(;!(x=(m=f.call(r)).done)&&(w.push(m.value),w.length!==h);x=!0);}catch(z){O=!0,a=z}finally{try{if(!x&&r.return!=null&&(v=r.return(),Object(v)!==v))return}finally{if(O)throw a}}return w}}function i(d,h){var r=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);h&&(m=m.filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})),r.push.apply(r,m)}return r}function c(d){for(var h=1;h<arguments.length;h++){var r=arguments[h]!=null?arguments[h]:{};h%2?i(Object(r),!0).forEach(function(m){l(d,m,r[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(r,m))})}return d}function s(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){for(var r=0;r<h.length;r++){var m=h[r];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,$(m.key),m)}}function g(d,h,r){return h&&u(d.prototype,h),r&&u(d,r),Object.defineProperty(d,"prototype",{writable:!1}),d}function l(d,h,r){return h=$(h),h in d?Object.defineProperty(d,h,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[h]=r,d}function y(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),h&&b(d,h)}function p(d){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p(d)}function b(d,h){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,a){return m.__proto__=a,m},b(d,h)}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(d,h,r){return S()?N=Reflect.construct.bind():N=function(a,f,v){var w=[null];w.push.apply(w,f);var x=Function.bind.apply(a,w),O=new x;return v&&b(O,v.prototype),O},N.apply(null,arguments)}function E(d){return Function.toString.call(d).indexOf("[native code]")!==-1}function D(d){var h=typeof Map=="function"?new Map:void 0;return D=function(m){if(m===null||!E(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(typeof h<"u"){if(h.has(m))return h.get(m);h.set(m,a)}function a(){return N(m,arguments,p(this).constructor)}return a.prototype=Object.create(m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b(a,m)},D(d)}function _(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function A(d,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(d)}function I(d){var h=S();return function(){var m=p(d),a;if(h){var f=p(this).constructor;a=Reflect.construct(m,arguments,f)}else a=m.apply(this,arguments);return A(this,a)}}function V(d,h){for(;!Object.prototype.hasOwnProperty.call(d,h)&&(d=p(d),d!==null););return d}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get.bind():B=function(h,r,m){var a=V(h,r);if(a){var f=Object.getOwnPropertyDescriptor(a,r);return f.get?f.get.call(arguments.length<3?h:m):f.value}},B.apply(this,arguments)}function R(d,h){return H(d)||o(d,h)||W(d,h)||ne()}function k(d){return M(d)||X(d)||W(d)||ae()}function M(d){if(Array.isArray(d))return te(d)}function H(d){if(Array.isArray(d))return d}function X(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function W(d,h){if(d){if(typeof d=="string")return te(d,h);var r=Object.prototype.toString.call(d).slice(8,-1);if(r==="Object"&&d.constructor&&(r=d.constructor.name),r==="Map"||r==="Set")return Array.from(d);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(d,h)}}function te(d,h){(h==null||h>d.length)&&(h=d.length);for(var r=0,m=new Array(h);r<h;r++)m[r]=d[r];return m}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(d,h){var r=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!r){if(Array.isArray(d)||(r=W(d))||h&&d&&typeof d.length=="number"){r&&(d=r);var m=0,a=function(){};return{s:a,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function(x){throw x},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,v=!1,w;return{s:function(){r=r.call(d)},n:function(){var x=r.next();return f=x.done,x},e:function(x){v=!0,w=x},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(v)throw w}}}}function C(d,h){if(typeof d!="object"||d===null)return d;var r=d[Symbol.toPrimitive];if(r!==void 0){var m=r.call(d,h||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(d)}function $(d){var h=C(d,"string");return typeof h=="symbol"?h:String(h)}var T=function(h,r,m){var a=h.x,f=h.y,v=m.x,w=m.y,x={"+":{x:a+v,y:f+w},"-":{x:a-v,y:f-w},"*":{x:a*v,y:f*w},"/":{x:a/v,y:f/w}};return x[r]},Y=function(h){return{x:h.left,y:h.top}},L=function(h){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{left:h.x,top:h.y,right:h.x,bottom:h.y,width:r,height:r}},ce=function(h){return{x:h,y:h}},se=function(d,h){var r=h;window.addEventListener("resize",r),window.addEventListener("scroll",r);var m=new MutationObserver(r);d.forEach(function(f,v){m.observe(f,{childList:v!==0,attributes:!0})});var a=function(){return Vd(m,r)};return{observer:m,callback:r,cleanup:a}},mt=function(d){var h=bt(d);return h.x||h.y?!0:d instanceof Document?d.body?!!(d.body.scrollTop=1):!!(d.documentElement.scrollTop=1):!!(d.scrollTop=1)},gt=function(){var d=document.createElement("div");return d.style.position="fixed",d.style.overflow="hidden",d.style.pointerEvents="none",d.style.zIndex="999999999999999999",d},Qt=function(d){var h=document.createElement("div");return h.style.position="absolute",d||(h.style.background="rgba(0, 175, 255, 0.2)",h.style.border="1px solid rgba(0, 175, 255, 0.8)",h.style.display="none",h.style.pointerEvents="none"),h},yt=function(d,h){var r;return function(){for(var m=arguments.length,a=new Array(m),f=0;f<m;f++)a[f]=arguments[f];var v=function(){r=null,d.apply(void 0,a)};clearTimeout(r),r=setTimeout(v,h)}},er=function(){var d,h,r,m;return{y:((d=document.body)===null||d===void 0?void 0:d.scrollTop)||((h=document.documentElement)===null||h===void 0?void 0:h.scrollTop)||0,x:((r=document.body)===null||r===void 0?void 0:r.scrollLeft)||((m=document.documentElement)===null||m===void 0?void 0:m.scrollLeft)||0}},Sn=function(d){var h=function r(m){var a,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=(a=m[f])===null||a===void 0?void 0:a.parentNode;return v?(m.push(v),f++,r(m,f)):m};return h([d])},bd=function(d,h){if(d instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var r=d.getBoundingClientRect();return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,width:(d.clientWidth||r.width)*h,height:(d.clientHeight||r.height)*h}},wn=function(d,h){var r={top:Number.POSITIVE_INFINITY,left:Number.POSITIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,right:Number.NEGATIVE_INFINITY,width:Number.NEGATIVE_INFINITY,height:Number.NEGATIVE_INFINITY};return Ne(d).forEach(function(m){var a=h.getRect(m);r.top=Math.min(r.top,a.top),r.left=Math.min(r.left,a.left),r.bottom=Math.max(r.bottom,a.bottom),r.right=Math.max(r.right,a.right)}),r.height=r.bottom-r.top,r.width=r.right-r.left,r},bt=function(d){return!d||d instanceof Document?er():{x:d.scrollLeft>=0?d.scrollLeft:er().x,y:d.scrollTop>=0?d.scrollTop:er().y}},_n=function(d){var h=d.elementRect,r=d.containerRect,m=d.tolerance,a=m===void 0?{x:0,y:0}:m,f=[];return h.top-a.y<r.top&&f.push("top"),h.left-a.x<r.left&&f.push("left"),h.bottom+a.y>r.bottom&&f.push("bottom"),h.right+a.y>r.right&&f.push("right"),f},vd=function(d){var h=d.event;return{x:h.clientX,y:h.clientY}},Sd=function(d){var h=d.scrollAmount,r=d.initialPointerPos,m=d.pointerPos,a={};return m.x>r.x-h.x?(a.left=r.x-h.x,a.width=m.x-r.x+h.x):(a.left=m.x,a.width=r.x-m.x-h.x),m.y>r.y-h.y?(a.top=r.y-h.y,a.height=m.y-r.y+h.y):(a.top=m.y,a.height=r.y-m.y-h.y),a},kn=function(h){var r={x:0,y:0},m=window.getComputedStyle(h);if(!m.transform||m.transform==="none")return r;if(m.transform.indexOf("3d")>=0){var a=m.transform.trim().match(/matrix3d\((.*?)\)/);if(a&&a.length){var f,v=(f=a[1])===null||f===void 0?void 0:f.split(",");r.x=parseInt(v[12])||0,r.y=parseInt(v[13])||0}return r}var w=m.transform.trim().match(/matrix\((.*?)\)/);if(w&&w.length){var x,O=(x=w[1])===null||x===void 0?void 0:x.split(",");r.x=parseInt(O[4])||0,r.y=parseInt(O[5])||0}return r},wd=function(h){var r=h.style.transform;if(!r||r.indexOf("translate")<0)return kn(h);var m={x:0,y:0},a=r.trim().match(/translate[3dD]*?\(.*?\)/);if(a){var f,v=(f=a[0])===null||f===void 0?void 0:f.split("(");if(v){var w,x=(w=v[1])===null||w===void 0?void 0:w.split(",");m.x=parseInt(x[0])||0,m.y=parseInt(x[1])||0}}return!m.x&&!m.x?kn(h):m},_d=function(h){var r=h.style,m={x:parseInt(r.left)||0,y:parseInt(r.top)||0};if(!m.x&&!m.x){var a=window.getComputedStyle(h);return{x:parseInt(a.left)||0,y:parseInt(a.top)||0}}return m},kd=function(d,h){return h?wd(d):_d(d)},xd=function(d){var h=d.element,r=d.edges,m=d.elementRect,a=d.containerRect,f=d.elementPos,v=d.useTransform;r.includes("top")&&et(h,{y:f.y+a.top-m.top,x:f.x},v),r.includes("left")&&et(h,{y:f.y,x:f.x+a.left-m.left},v),r.includes("bottom")&&et(h,{y:f.y+a.bottom-m.bottom,x:f.x},v),r.includes("right")&&et(h,{y:f.y,x:f.x+a.right-m.right},v)},xn=function(d){var h=d.computedStyle,r=d.node,m=h.position,a=m==="absolute"||m==="relative"||m==="fixed";!(r instanceof Document)&&!a&&(r.style.position="relative")},Dd=function(d){var h=d.shiftKey,r=d.keyboardDragSpeed,m=d.zoom,a=d.key,f=d.dragKeys,v=d.scrollDiff,w=d.canScroll,x=d.scrollCallback,O={x:0,y:0},z=h?r*4*m:r*m;return f.left.includes(a)&&(O.x=v.x||-z,!h&&!v.x&&w&&x(["left"],r)),f.right.includes(a)&&(O.x=v.x||z,!h&&!v.x&&w&&x(["right"],r)),f.up.includes(a)&&(O.y=v.y||-z,!h&&!v.y&&w&&x(["top"],r)),f.down.includes(a)&&(O.y=v.y||z,!h&&!v.y&&w&&x(["bottom"],r)),O},Ed=function(d){var h=d.element,r=d.force,m=d.multiSelectionToggle,a=d.SelectedSet,f=d.hoverClassName;h.classList.contains(f)&&!r||(a.has(h)?m&&a.delete(h):a.add(h),h.classList.add(f))},Nd=function(d){var h=d.element,r=d.force,m=d.SelectedSet,a=d.PrevSelectedSet,f=d.hoverClassName;if(!h.classList.contains(f)&&!r)return!1;var v=m.has(h),w=a.has(h);v&&!w?m.delete(h):!v&&w&&m.add(h),h.classList.remove(f)},Qe=function(h,r,m){return console.warn('[DragSelect] TypeIssue: setting "'.concat(h,'" is not of type "').concat(r,'".'))},P=function(h,r,m,a){if(r===void 0)return m?l({},h,a):{};if(r===null)return l({},h,null);var f=!0,v=!1,w=typeof a=="string";w&&(f=typeof r=="string"||r instanceof String),w&&!f&&(v=!0,Qe(h,"string"));var x=!Number.isNaN(a)&&typeof a=="number";x&&(f=!Number.isNaN(r)&&typeof r=="number"),x&&!f&&(v=!0,Qe(h,"number"));var O=Object.prototype.toString.call(a)==="[object Object]";O&&(f=Object.prototype.toString.call(r)==="[object Object]"),O&&!f&&(v=!0,Qe(h,"object"));var z=typeof a=="boolean";z&&(f=typeof r=="boolean"),z&&!f&&(v=!0,Qe(h,"boolean"));var G=Array.isArray(a);G&&(f=Array.isArray(r)),G&&!f&&(v=!0,Qe(h,"array"));var de=v||m;return h==="dragKeys"&&f?l({},h,Object.assign(a,r)):h==="dragKeys"&&!f?de?l({},h,a):{}:(h==="dropZones"&&f&&new Set(r.map(function(he){return he.id})).size!==r.length&&console.warn('[DragSelect] UniqueConstraintsIssue: setting "dropZones" contains duplicate ids.'),f?l({},h,r):de?l({},h,a):{})},Cd=function(d,h){return c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c(c({},P("area",d.area,h,document)),P("selectables",d.selectables,h,null)),P("autoScrollSpeed",d.autoScrollSpeed,h,5)),P("overflowTolerance",d.overflowTolerance,h,{x:25,y:25})),P("zoom",d.zoom,h,1)),P("customStyles",d.customStyles,h,!1)),P("multiSelectMode",d.multiSelectMode,h,!1)),P("multiSelectToggling",d.multiSelectToggling,h,!0)),P("multiSelectKeys",d.multiSelectKeys,h,["Control","Shift","Meta"])),P("selector",d.selector,h,null)),P("selectionThreshold",d.selectionThreshold,h,0)),P("draggability",d.draggability,h,!0)),P("immediateDrag",d.immediateDrag,h,!0)),P("keyboardDrag",d.keyboardDrag,h,!0)),P("dragKeys",d.dragKeys,h,{up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]})),P("keyboardDragSpeed",d.keyboardDragSpeed,h,10)),P("useTransform",d.useTransform,h,!0)),P("refreshMemoryRate",d.refreshMemoryRate,h,80)),P("dropZones",d.dropZones,h,[])),P("dropInsideThreshold",d.dropInsideThreshold,h,1)),P("dropTargetThreshold",d.dropTargetThreshold,h,0)),P("usePointerEvents",d.usePointerEvents,h,!1)),P("hoverClass",d.hoverClass,h,"ds-hover")),P("selectableClass",d.selectableClass,h,"ds-selectable")),P("selectedClass",d.selectedClass,h,"ds-selected")),P("selectorClass",d.selectorClass,h,"ds-selector")),P("selectorAreaClass",d.selectorAreaClass,h,"ds-selector-area")),P("droppedTargetClass",d.droppedTargetClass,h,"ds-dropped-target")),P("droppedInsideClass",d.droppedInsideClass,h,"ds-dropped-inside")),P("droppableClass",d.droppableClass,h,"ds-droppable")),P("dropZoneClass",d.dropZoneClass,h,"ds-dropzone")),P("dropZoneReadyClass",d.dropZoneReadyClass,h,"ds-dropzone-ready")),P("dropZoneTargetClass",d.dropZoneTargetClass,h,"ds-dropzone-target")),P("dropZoneInsideClass",d.dropZoneInsideClass,h,"ds-dropzone-inside")),P("dragAsBlock",d.dragAsBlock,h,!1))},ze=function(d,h){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=d;if(r>0){var a=(d.right-d.left)*r,f=(d.bottom-d.top)*r;m={left:d.left+a,right:d.right-a,top:d.top+f,bottom:d.bottom-f}}return m.left<h.right&&m.right>h.left&&m.top<h.bottom&&m.bottom>h.top},Dn=function(d){var h=d.element,r=d.posDirection,m=d.containerRect,a=d.useTransform,f=kd(h,a),v=T(f,"+",r);et(h,v,a);var w=h.getBoundingClientRect(),x=_n({elementRect:w,containerRect:m});xd({element:h,edges:x,elementRect:w,containerRect:m,elementPos:v,useTransform:a})},Vd=function(d,h){window.removeEventListener("resize",h),window.removeEventListener("scroll",h),d.disconnect()},Td=function(d,h,r){if(h.length){var m=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,a=d instanceof Document?m||document.body:d,f=h.includes("top")&&a.scrollTop>0,v=h.includes("bottom")&&a.scrollTop<a.scrollHeight,w=h.includes("left")&&a.scrollLeft>0,x=h.includes("right")&&a.scrollLeft<a.scrollWidth;f&&(a.scrollTop-=1*r),v&&(a.scrollTop+=1*r),w&&(a.scrollLeft-=1*r),x&&(a.scrollLeft+=1*r)}},et=function(d,h,r){if(r){var m=d.style.transform;d.style.transform="translate3d(".concat(h.x,"px,").concat(h.y,"px,1px) ").concat(m.replace(/translate.*?\)/g,""))}else d.style.left="".concat(h.x,"px"),d.style.top="".concat(h.y,"px");return d},Md=function(d){for(var h=d.subscribe,r=d.publish,m=d.Interaction,a=d.SelectedSet,f=d.DropZones,v={"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(G){return G.event}}],"Interaction:end":[{name:"callback",extraData:function(){var G=f.getTarget();return c({},G?{dropTarget:G.toObject()}:{})}}]},w=function(){var G=R(O[x],2),de=G[0],he=G[1];["pre",!1].forEach(function(ye){return h(ye?"".concat(de,":").concat(ye):de,function(Z){return he.forEach(function(oe){return(!oe.condition||oe.condition(Z))&&r(ye?"".concat(ye).concat(oe.name):oe.name,c(c({items:a.elements,isDragging:m.isDragging},Z),oe.extraData?oe.extraData(Z):{}))})})})},x=0,O=Object.entries(v);x<O.length;x++)w()},Ne=function(d){return d?!Array.isArray(d)&&(d instanceof HTMLElement||d instanceof SVGElement)?[d]:k(new Set(k(d))):[]},En=function(d,h){d.style.left="".concat(h.left,"px"),d.style.top="".concat(h.top,"px"),d.style.width="".concat(h.width,"px"),d.style.height="".concat(h.height,"px")},Ad=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"DS",void 0),l(this,"_observers",void 0),l(this,"_node",void 0),l(this,"_parentNodes",void 0),l(this,"_computedStyle",void 0),l(this,"_computedBorder",void 0),l(this,"_rect",void 0),l(this,"setArea",function(a){r.reset(),r._node=a,xn({computedStyle:r.computedStyle,node:r._node}),setTimeout(function(){r.DS.PubSub.publish("Area:modified:pre",{item:r}),r.reset(),r.DS.PubSub.publish("Area:modified",{item:r})})}),l(this,"start",function(){r._observers=se(r.parentNodes,yt(function(a){r.DS.PubSub.publish("Area:modified:pre",{event:a,item:r}),r.reset(),r.DS.PubSub.publish("Area:modified",{event:a,item:r})},60))}),l(this,"reset",function(){r._computedStyle=void 0,r._rect=void 0,r._computedBorder=void 0,r._parentNodes=void 0}),l(this,"stop",function(){r._observers.cleanup(),r.reset()}),l(this,"scroll",function(a,f){var v={scroll_directions:a,scroll_multiplier:f};r.DS.PubSub.publish("Area:scroll:pre",v),Td(r._node,a,f),r.DS.PubSub.publish("Area:scroll",v)}),this.DS=m,this.setArea(this.DS.stores.SettingsStore.s.area),this.DS.PubSub.subscribe("Settings:updated:area",function(a){var f=a.settings;r.setArea(f.area)}),this.DS.PubSub.subscribe("Interaction:init",this.start),this.DS.PubSub.subscribe("Interaction:end",this.reset)}return g(d,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof Document?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=bd(this.HTMLNode,this.DS.stores.SettingsStore.s.zoom)}},{key:"parentNodes",get:function(){return this._parentNodes?this._parentNodes:this._parentNodes=Sn(this.HTMLNode)}}]),d}(),Bd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_prevCursorPos",void 0),l(this,"_prevScrollPos",void 0),l(this,"_elements",[]),l(this,"_dragKeys",void 0),l(this,"_dragKeysFlat",[]),l(this,"_selectionRect",void 0),l(this,"assignDragkeys",function(){r._dragKeys={up:r.DS.stores.SettingsStore.s.dragKeys.up.map(function(a){return a.toLowerCase()}),down:r.DS.stores.SettingsStore.s.dragKeys.down.map(function(a){return a.toLowerCase()}),left:r.DS.stores.SettingsStore.s.dragKeys.left.map(function(a){return a.toLowerCase()}),right:r.DS.stores.SettingsStore.s.dragKeys.right.map(function(a){return a.toLowerCase()})},r._dragKeysFlat=[].concat(k(r._dragKeys.up),k(r._dragKeys.down),k(r._dragKeys.left),k(r._dragKeys.right))}),l(this,"keyboardDrag",function(a){var f=a.event,v=a.key,w=v.toLowerCase();if(!(!r.DS.stores.SettingsStore.s.keyboardDrag||!r._dragKeysFlat.includes(w)||!r.DS.SelectedSet.size||!r.DS.stores.SettingsStore.s.draggability||r.DS.continue)){var x={event:f,isDragging:!0,isDraggingKeyboard:!0};r.DS.publish(["Interaction:start:pre","Interaction:start"],x),r._elements=r.DS.getSelection(),r.DS.stores.SettingsStore.s.dragAsBlock&&(r._selectionRect=wn(r._elements,r.DS.SelectableSet)),r.handleZIndex(!0);var O=Dd({shiftKey:r.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:r.DS.stores.SettingsStore.s.keyboardDragSpeed,zoom:r.DS.stores.SettingsStore.s.zoom,key:w,scrollCallback:r.DS.Area.scroll,scrollDiff:r._scrollDiff,canScroll:r.DS.stores.ScrollStore.canScroll,dragKeys:r._dragKeys});r.DS.stores.SettingsStore.s.dragAsBlock&&(O=r.limitDirection(O)),r._elements.forEach(function(z){return Dn({element:z,posDirection:O,containerRect:r.DS.SelectorArea.rect,useTransform:r.DS.stores.SettingsStore.s.useTransform})}),r.DS.publish(["Interaction:update:pre","Interaction:update"],x)}}),l(this,"keyboardEnd",function(a){var f=a.event,v=a.key,w=v.toLowerCase();if(!(!r.DS.stores.SettingsStore.s.keyboardDrag||!r._dragKeysFlat.includes(w)||!r.DS.SelectedSet.size||!r.DS.stores.SettingsStore.s.draggability)){var x={event:f,isDragging:r.DS.stores.SettingsStore.s.draggability,isDraggingKeyboard:!0};r.DS.publish(["Interaction:end:pre","Interaction:end"],x)}}),l(this,"start",function(a){var f=a.isDragging,v=a.isDraggingKeyboard;!f||v||(r._prevCursorPos=null,r._prevScrollPos=null,r._elements=r.DS.getSelection(),r.DS.stores.SettingsStore.s.dragAsBlock&&(r._selectionRect=wn(r._elements,r.DS.SelectableSet)),r.handleZIndex(!0))}),l(this,"stop",function(a){a!=null&&a.isKeyboard||(r._prevCursorPos=null,r._prevScrollPos=null,r.handleZIndex(!1),r._elements=[])}),l(this,"update",function(a){var f=a.isDragging,v=a.isDraggingKeyboard;if(!(!f||!r._elements.length||v||r.DS.continue)){var w=T(r._cursorDiff,"+",r._scrollDiff);r.DS.stores.SettingsStore.s.dragAsBlock&&(w=r.limitDirection(w)),r._elements.forEach(function(x){return Dn({element:x,posDirection:w,containerRect:r.DS.SelectorArea.rect,useTransform:r.DS.stores.SettingsStore.s.useTransform})})}}),l(this,"limitDirection",function(a){var f=r.DS.SelectorArea.rect,v=r.DS.stores.ScrollStore.scrollAmount,w={top:f.top-r._selectionRect.top+v.y,left:f.left-r._selectionRect.left+v.x,bottom:f.bottom-r._selectionRect.bottom+v.y,right:f.right-r._selectionRect.right+v.x};return a.x===0&&a.y===0||(a.y<0&&(a.y=Math.max(a.y,w.top)),a.x<0&&(a.x=Math.max(a.x,w.left)),a.y>0&&(a.y=Math.min(a.y,w.bottom)),a.x>0&&(a.x=Math.min(a.x,w.right)),r._selectionRect.top+=a.y,r._selectionRect.bottom+=a.y,r._selectionRect.left+=a.x,r._selectionRect.right+=a.x),a}),l(this,"handleZIndex",function(a){r._elements.forEach(function(f){return f.style.zIndex="".concat((parseInt(f.style.zIndex)||0)+a?9999:-9998)})}),this.DS=m,this.DS.subscribe("Settings:updated:dragKeys",this.assignDragkeys),this.assignDragkeys(),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return g(d,[{key:"_cursorDiff",get:function(){var r=this.DS.stores.PointerStore.currentVal,m=this._prevCursorPos?T(r,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=r,m}},{key:"_scrollDiff",get:function(){var r=this.DS.stores.ScrollStore.currentVal,m=this._prevScrollPos?T(r,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=r,m}}]),d}(),$d=function(){function d(h){var r=this,m=h.DS,a=h.id,f=h.element,v=h.droppables;s(this,d),l(this,"id",void 0),l(this,"element",void 0),l(this,"_droppables",void 0),l(this,"_rect",void 0),l(this,"_observers",void 0),l(this,"_timeout",void 0),l(this,"_itemsDropped",[]),l(this,"_itemsInside",void 0),l(this,"setReadyClasses",function(w){if(!r.isDestroyed){var x=r.droppables.filter(function(O){return r.DS.SelectedSet.has(O)});x.length&&(x.forEach(function(O){O.classList[w]("".concat(r.Settings.droppableClass)),O.classList[w]("".concat(r.Settings.droppableClass,"-").concat(r.id))}),r.element.classList[w]("".concat(r.Settings.dropZoneReadyClass)))}}),l(this,"handleNoDrop",function(){var w;r.isDestroyed||(r.DS.SelectedSet.forEach(function(x){x.classList.remove(r.Settings.droppedTargetClass),x.classList.remove("".concat(r.Settings.droppedTargetClass,"-").concat(r.id))}),r._itemsDropped=r._itemsDropped.filter(function(x){return!r.DS.SelectedSet.has(x)}),(w=r._itemsDropped)!==null&&w!==void 0&&w.length||r.element.classList.remove("".concat(r.Settings.dropZoneTargetClass)))}),l(this,"handleDrop",function(){var w,x,O;r.isDestroyed||(r._itemsDropped=k(new Set([].concat(k(r._itemsDropped),k((w=r.droppables)===null||w===void 0?void 0:w.filter(function(z){return r.DS.SelectedSet.has(z)}))))),(x=r._itemsDropped)===null||x===void 0||x.forEach(function(z){z.classList.add("".concat(r.Settings.droppedTargetClass)),z.classList.add("".concat(r.Settings.droppedTargetClass,"-").concat(r.id))}),(O=r._itemsDropped)!==null&&O!==void 0&&O.length&&r.element.classList.add("".concat(r.Settings.dropZoneTargetClass)))}),l(this,"handleItemsInsideClasses",function(){var w=!1;r.droppables.forEach(function(x){r.itemsInside.includes(x)?(x.classList.add("".concat(r.Settings.droppedInsideClass)),x.classList.add("".concat(r.Settings.droppedInsideClass,"-").concat(r.id)),w=!0):(x.classList.remove("".concat(r.Settings.droppedInsideClass,"-").concat(r.id)),x.className.includes("".concat(r.Settings.droppedInsideClass,"-"))||x.classList.remove("".concat(r.Settings.droppedInsideClass)))}),w?r.element.classList.add("".concat(r.Settings.dropZoneInsideClass)):r.element.classList.remove("".concat(r.Settings.dropZoneInsideClass))}),l(this,"start",function(w){var x=w.isDragging;!x||r.isDestroyed||r.setReadyClasses("add")}),l(this,"stop",function(w){var x=w.isDragging;!x||r.isDestroyed||(r.setReadyClasses("remove"),r.handleItemsInsideClasses())}),l(this,"toObject",function(){return{id:r.id,element:r.element,droppables:r.droppables,itemsDropped:r.itemsDropped,itemsInside:r.itemsInside}}),this.DS=m,this.Settings=m.stores.SettingsStore.s,this.id=a,this.element=f,v&&(this.droppables=Ne(v)),this.element.classList.add("".concat(this.Settings.dropZoneClass)),this.DS.subscribe("Settings:updated:dropZoneClass",function(w){var x=w.settings;r.element&&(r.element.classList.remove(x["dropZoneClass:pre"]),r.element.classList.add(x.dropZoneClass))}),this._observers=se(this.parentNodes,yt(function(){return r._rect=null},this.Settings.refreshMemoryRate)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop)}return g(d,[{key:"destroy",value:function(){var r=this;this._observers.cleanup(),this.element.classList.remove("".concat(this.Settings.dropZoneClass)),this.element.classList.remove("".concat(this.Settings.dropZoneTargetClass)),this.element.classList.remove("".concat(this.Settings.dropZoneReadyClass)),this.droppables.forEach(function(m){m.classList.remove("".concat(r.Settings.droppedTargetClass)),m.classList.remove("".concat(r.Settings.droppedTargetClass,"-").concat(r.id)),m.classList.remove("".concat(r.Settings.droppableClass)),m.classList.remove("".concat(r.Settings.droppableClass,"-").concat(r.id))}),this.DS.unsubscribe("Interaction:start",this.start),this.DS.unsubscribe("Interaction:end",this.stop),this.element=null,this.droppables=null,this.id=null,this._itemsDropped=null,this._itemsInside=null,this.isDestroyed=!0}},{key:"rect",get:function(){return this.isDestroyed?null:this._rect?this._rect:this._rect=this.element.getBoundingClientRect()}},{key:"itemsDropped",get:function(){return this.isDestroyed?null:this._itemsDropped}},{key:"itemsInside",get:function(){var r=this;return this.isDestroyed?null:this._itemsInside?this._itemsInside:(this._itemsInside=this.droppables.flatMap(function(m){return ze(r.DS.SelectableSet.rects.get(m),r.rect,r.Settings.dropInsideThreshold)?[m]:[]}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){return r._itemsInside=null},this.Settings.refreshMemoryRate),this._itemsInside)}},{key:"parentNodes",get:function(){return this._parentNodes?this._parentNodes:this._parentNodes=Sn(this.element)}},{key:"droppables",get:function(){return this._droppables?this._droppables:this.DS.SelectableSet.elements},set:function(r){this._droppables=r}}]),d}(),Id=g(function d(h){var r=this,m=h.DS;s(this,d),l(this,"_zoneByElement",new Map),l(this,"_zoneById",new Map),l(this,"_zonesByDroppable",new Map),l(this,"_zones",void 0),l(this,"setDropZones",function(a){var f=a.dropZones;f&&(r._zones&&r._zones.forEach(function(v){return v.destroy()}),r._zones=f.map(function(v){return new $d(c({DS:r.DS},v))}),r._zones.forEach(function(v){r._zoneByElement.set(v.element,v),r._zoneById.set(v.id,v),v.droppables.forEach(function(w){var x=r._zonesByDroppable.get(w);if(!(x!=null&&x.length))return r._zonesByDroppable.set(w,[v]);r._zonesByDroppable.set(w,k(new Set([].concat(k(x),[v]))))})}))}),l(this,"_handleDrop",function(a){r._zones.forEach(function(f){f!==a&&f.handleNoDrop()}),a&&a.handleDrop()}),l(this,"_getZoneByElementsFromPoint",function(a,f){for(var v=f.x,w=f.y,x=0,O=a.length;x<O;x++){var z=r._zoneByElement.get(a[x]);if(z&&ze(z.rect,{left:v,right:v,top:w,bottom:w},Math.min(r.Settings.dropTargetThreshold,.5)))return z}}),l(this,"stop",function(a){var f=a.isDragging;if(f){var v=r.getTarget();r._handleDrop(v)}}),l(this,"getItemsDroppedById",function(a){var f=r._zoneById.get(a);return f?f.itemsDropped:console.warn("[DragSelect] No zone found (id: ".concat(a,")"))}),l(this,"getItemsInsideById",function(a,f){var v=r._zoneById.get(a);if(!v)return console.warn("[DragSelect] No zone found (id: ".concat(a,")"));var w=v.itemsInside;return f&&v.handleItemsInsideClasses(),w}),l(this,"getTarget",function(a){var f;if((f=r._zones)!==null&&f!==void 0&&f.length){var v=(a==null?void 0:a.x)||r.DS.stores.PointerStore.currentVal.x,w=(a==null?void 0:a.y)||r.DS.stores.PointerStore.currentVal.y,x=document.elementsFromPoint(v,w);return r._getZoneByElementsFromPoint(x,{x:v,y:w})}}),this.DS=m,this.Settings=m.stores.SettingsStore.s,this.DS.subscribe("Settings:updated:dropZones",function(a){var f=a.settings;return r.setDropZones(f)}),this.setDropZones({dropZones:this.DS.stores.SettingsStore.s.dropZones}),this.DS.subscribe("Interaction:end",this.stop)}),Od=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"isInteracting",void 0),l(this,"isDragging",void 0),l(this,"init",function(){return r.DS.publish("Interaction:init:pre",{})}),l(this,"_init",function(){r.stop(),r.Settings.usePointerEvents?r.DS.Area.HTMLNode.addEventListener("pointerdown",r.start,{passive:!1}):r.DS.Area.HTMLNode.addEventListener("mousedown",r.start),r.DS.Area.HTMLNode.addEventListener("touchstart",r.start,{passive:!1}),r.DS.publish("Interaction:init",{})}),l(this,"start",function(a){return r.DS.publish("Interaction:start:pre",{event:a,isDragging:r.isDragging})}),l(this,"_start",function(a){a.type==="touchstart"&&a.preventDefault(),r._canInteract(a)&&(r.isInteracting=!0,r.isDragging=r.isDragEvent(a),r.DS.publish("Interaction:start",{event:a,isDragging:r.isDragging}),r.Settings.usePointerEvents?(document.addEventListener("pointerup",r.reset),document.addEventListener("pointercancel",r.reset)):document.addEventListener("mouseup",r.reset),document.addEventListener("touchend",r.reset))}),l(this,"isDragEvent",function(a){var f=a.target.closest(".".concat(r.Settings.selectableClass));return!r.Settings.draggability||r.DS.stores.KeyStore.isMultiSelectKeyPressed(a)||!f?!1:(r.Settings.immediateDrag&&(r.DS.SelectedSet.size?r.DS.SelectedSet.has(f)||(r.DS.SelectedSet.clear(),r.DS.SelectedSet.add(f)):r.DS.SelectedSet.add(f)),!!r.DS.SelectedSet.has(f))}),l(this,"onClick",function(a){var f=a.event;if(r._canInteract(f)&&!(f.detail>0)){var v=r.DS,w=v.stores,x=w.PointerStore,O=w.KeyStore,z=v.SelectableSet,G=v.SelectedSet;x.start(f);var de=f.target;z.has(de)&&(O.isMultiSelectKeyPressed(f)||G.clear(),G.toggle(de),r.reset())}}),l(this,"stop",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.DS.Area.HTMLNode;r.isInteracting=!1,r.isDragging=!1,r.Settings.usePointerEvents?(a.removeEventListener("pointerdown",r.start,{passive:!1}),document.removeEventListener("pointerup",r.reset),document.removeEventListener("pointercancel",r.reset)):(a.removeEventListener("mousedown",r.start),document.removeEventListener("mouseup",r.reset)),a.removeEventListener("touchstart",r.start,{passive:!1}),document.removeEventListener("touchend",r.reset)}),l(this,"update",function(a){var f=a.event,v=a.scroll_directions,w=a.scroll_multiplier;r.isInteracting&&r.DS.publish(["Interaction:update:pre","Interaction:update"],{event:f,scroll_directions:v,scroll_multiplier:w,isDragging:r.isDragging})}),l(this,"reset",function(a){return r.DS.publish("Interaction:end:pre",{event:a,isDragging:r.isDragging})}),l(this,"_reset",function(a){var f=r.isDragging;r.stop(),r.init(),r.DS.publish("Interaction:end",{event:a,isDragging:f})}),this.DS=m,this.Settings=m.stores.SettingsStore.s,this.DS.subscribe("Settings:updated:area",function(a){var f=a.settings;r.stop(f["area:pre"]),r.init()}),this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",function(a){var f=a.event;return r.start(f)}),this.DS.subscribe("Interaction:start:pre",function(a){var f=a.event;return r._start(f)}),this.DS.subscribe("Interaction:init:pre",this._init),this.DS.subscribe("Interaction:end:pre",function(a){var f=a.event;return r._reset(f)}),this.DS.subscribe("Area:scroll",this.update)}return g(d,[{key:"_canInteract",value:function(r){var m=r.clientX===0&&r.clientY===0&&r.detail===0&&r.target;return!(r.button===2||this.isInteracting||r.target&&!this.DS.SelectorArea.isInside(r.target)||!m&&!this.DS.SelectorArea.isClicked(r))}}]),d}(),Ld=g(function d(h){var r=this,m=h.DS;s(this,d),l(this,"subscribers",{}),l(this,"subscribe",function(a,f){return Array.isArray(r.subscribers[a])||(r.subscribers[a]=[]),r.subscribers[a].push(f),r.subscribers[a].length-1}),l(this,"unsubscribe",function(a,f,v){v>=0?r.subscribers[a].splice(v,1):f&&(r.subscribers[a]=r.subscribers[a].filter(function(w){return w!==f}))}),l(this,"publish",function(a,f){Array.isArray(a)?a.forEach(function(v){return r._publish(v,f)}):r._publish(a,f)}),l(this,"_publish",function(a,f){var v=r.subscribers[a];Array.isArray(v)&&(a.includes(":pre")?r._handlePrePublish(v,f):r._handlePublish(v,f))}),l(this,"_handlePublish",function(a,f){for(var v=0,w=a.length;v<w;v++){if(r.DS.stopped)return;a[v](f)}}),l(this,"_handlePrePublish",function(a,f){for(var v=a.length;v--;){if(r.DS.stopped)return;a[v](f)}}),this.DS=m}),jd=function(d){y(r,d);var h=I(r);function r(m){var a,f=m.DS;return s(this,r),a=h.call(this),l(_(a),"_rects",void 0),l(_(a),"_timeout",void 0),l(_(a),"init",function(){return Ne(a.Settings.selectables).forEach(function(v){return a.add(v)})}),l(_(a),"clear",function(){return a.forEach(function(v){return a.delete(v)})}),l(_(a),"_onClick",function(v){return a.DS.publish(["Selectable:click:pre","Selectable:click"],{event:v})}),l(_(a),"_onPointer",function(v){return a.DS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:v})}),l(_(a),"addAll",function(v){return v.forEach(function(w){return a.add(w)})}),l(_(a),"deleteAll",function(v){return v.forEach(function(w){return a.delete(w)})}),l(_(a),"getRect",function(v){return a._rects?a.rects.get(v):v.getBoundingClientRect()}),a.DS=f,a.Settings=f.stores.SettingsStore.s,a.DS.subscribe("Interaction:init",a.init),a.DS.PubSub.subscribe("Settings:updated:selectables",function(){a.clear(),a.init()}),a.DS.subscribe("Settings:updated:selectableClass",function(v){var w=v.settings;a.forEach(function(x){x.classList.remove(w["selectableClass:pre"]),x.classList.add(w.selectableClass)})}),a}return g(r,[{key:"add",value:function(a){if(B(p(r.prototype),"has",this).call(this,a))return this;var f={items:this.elements,item:a};return this.DS.publish("Selectable:added:pre",f),a.classList.add(this.Settings.selectableClass),a.addEventListener("click",this._onClick),this.Settings.usePointerEvents?a.addEventListener("pointerdown",this._onPointer,{passive:!1}):a.addEventListener("mousedown",this._onPointer),a.addEventListener("touchstart",this._onPointer,{passive:!1}),this.Settings.draggability&&!this.Settings.useTransform&&xn({computedStyle:window.getComputedStyle(a),node:a}),B(p(r.prototype),"add",this).call(this,a),this.DS.publish("Selectable:added",f),this}},{key:"delete",value:function(a){if(!B(p(r.prototype),"has",this).call(this,a))return!0;var f={items:this.elements,item:a};return this.DS.publish("Selectable:removed:pre",f),a.classList.remove(this.Settings.selectableClass),a.classList.remove(this.Settings.hoverClass),a.removeEventListener("click",this._onClick),this.Settings.usePointerEvents?a.removeEventListener("pointerdown",this._onPointer,{passive:!1}):a.removeEventListener("mousedown",this._onPointer),a.removeEventListener("touchstart",this._onPointer,{passive:!1}),B(p(r.prototype),"delete",this).call(this,a),this.DS.publish("Selectable:removed",f),!0}},{key:"elements",get:function(){return Array.from(this.values())}},{key:"rects",get:function(){var a=this;return this._rects?this._rects:(this._rects=new Map,this.forEach(function(f){return a._rects.set(f,f.getBoundingClientRect())}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){return a._rects=null},this.Settings.refreshMemoryRate),this._rects)}}]),r}(D(Set)),Pd=function(d){y(r,d);var h=I(r);function r(m){var a,f=m.DS;return s(this,r),a=h.call(this),l(_(a),"clear",function(){return a.forEach(function(v){return a.delete(v)})}),l(_(a),"addAll",function(v){return v.forEach(function(w){return a.add(w)})}),l(_(a),"deleteAll",function(v){return v.forEach(function(w){return a.delete(w)})}),a.DS=f,a}return g(r,[{key:"add",value:function(a){if(B(p(r.prototype),"has",this).call(this,a))return this;var f={items:this.elements,item:a};return this.DS.publish("Selected:added:pre",f),B(p(r.prototype),"add",this).call(this,a),a.classList.add(this.DS.stores.SettingsStore.s.selectedClass),a.style.zIndex="".concat((parseInt(a.style.zIndex)||0)+1),this.DS.publish("Selected:added",f),this}},{key:"delete",value:function(a){if(!B(p(r.prototype),"has",this).call(this,a))return!0;var f={items:this.elements,item:a};this.DS.publish("Selected:removed:pre",f);var v=B(p(r.prototype),"delete",this).call(this,a);return a.classList.remove(this.DS.stores.SettingsStore.s.selectedClass),a.style.zIndex="".concat((parseInt(a.style.zIndex)||0)-1),this.DS.publish("Selected:removed",f),v}},{key:"toggle",value:function(a){return this.has(a)?this.delete(a):this.add(a),a}},{key:"elements",get:function(){return Array.from(this.values())}}]),r}(D(Set)),zd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_prevSelectedSet",void 0),l(this,"start",function(a){var f=a.event,v=a.isDragging;v||(r._storePrevious(f),r._handleInsideSelection(!0,f))}),l(this,"update",function(a){var f=a.isDragging;f||r.DS.continue||r._handleInsideSelection()}),l(this,"_handleInsideSelection",function(a,f){var v=r.DS,w=v.SelectableSet,x=v.SelectorArea,O=v.Selector,z=r.DS.stores.KeyStore.isMultiSelectKeyPressed(f)&&r.Settings.multiSelectToggling,G=r.Settings.selectionThreshold,de=w.rects,he=O.rect,ye=new Map,Z=new Map,oe=re(de),tt;try{for(oe.s();!(tt=oe.n()).done;){var vt=R(tt.value,2),rt=vt[0],St=vt[1];x.isInside(rt,St)&&(ze(St,he,G)?ye.set(rt,St):Z.set(rt,St))}}catch(tr){oe.e(tr)}finally{oe.f()}if(!r.DS.continue){var Cn=r.filterSelected({select:ye,unselect:Z,selectorRect:he}),Wd=Cn.select,Xd=Cn.unselect;Wd.forEach(function(tr,rr){return Ed({element:rr,force:a,multiSelectionToggle:z,SelectedSet:r.DS.SelectedSet,hoverClassName:r.Settings.hoverClass})}),Xd.forEach(function(tr,rr){return Nd({element:rr,force:a,SelectedSet:r.DS.SelectedSet,hoverClassName:r.Settings.hoverClass,PrevSelectedSet:r._prevSelectedSet})})}}),l(this,"filterSelected",function(a){var f=a.select,v=a.unselect;return a.selectorRect,{select:f,unselect:v}}),this.DS=m,this.Settings=this.DS.stores.SettingsStore.s,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return g(d,[{key:"_storePrevious",value:function(r){var m=this.DS,a=m.stores.KeyStore,f=m.SelectedSet;a.isMultiSelectKeyPressed(r)?this._prevSelectedSet=new Set(f):this._prevSelectedSet=new Set}}]),d}(),Rd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_rect",void 0),l(this,"attachSelector",function(){var a,f;r.HTMLNode&&(a=r.DS.SelectorArea)!==null&&a!==void 0&&a.HTMLNode&&r.DS.SelectorArea.HTMLNode.removeChild(r.HTMLNode),r.HTMLNode=r.DS.stores.SettingsStore.s.selector||Qt(r.DS.stores.SettingsStore.s.customStyles),r.HTMLNode.classList.add(r.DS.stores.SettingsStore.s.selectorClass),r.HTMLNode&&(f=r.DS.SelectorArea)!==null&&f!==void 0&&f.HTMLNode&&r.DS.SelectorArea.HTMLNode.appendChild(r.HTMLNode)}),l(this,"start",function(a){var f=a.isDragging;if(!f){var v=r.DS.stores.PointerStore,w=v.initialValArea;En(r.HTMLNode,L(w,1)),r.HTMLNode.style.display="block",r._rect=null}}),l(this,"stop",function(){r.HTMLNode.style.width="0",r.HTMLNode.style.height="0",r.HTMLNode.style.display="none"}),l(this,"update",function(a){var f=a.isDragging;if(!(f||r.DS.continue)){var v=r.DS.stores,w=v.ScrollStore,x=v.PointerStore,O=Sd({scrollAmount:w.scrollAmount,initialPointerPos:x.initialValArea,pointerPos:x.currentValArea});En(r.HTMLNode,O),r._rect=null}}),this.DS=m,this.DS.subscribe("Settings:updated:selectorClass",function(a){var f=a.settings;r.HTMLNode.classList.remove(f["selectorClass:pre"]),r.HTMLNode.classList.add(f.selectorClass)}),this.DS.subscribe("Settings:updated:selector",this.attachSelector),this.DS.subscribe("Settings:updated:customStyles",this.attachSelector),this.attachSelector(),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return g(d,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),d}(),Hd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_scrollInterval",void 0),l(this,"_rect",void 0),l(this,"currentEdges",[]),l(this,"start",function(){r.applyElements("append"),r.updatePos()}),l(this,"applyElements",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"append",f=document.body?"body":"documentElement",v="".concat(a,"Child");r.HTMLNode[v](r.DS.Selector.HTMLNode),document[f][v](r.HTMLNode)}),l(this,"updatePos",function(){r._rect=null;var a=r.DS.Area.rect,f=r.DS.Area.computedBorder,v=r.HTMLNode.style,w="".concat(a.top+f.top,"px"),x="".concat(a.left+f.left,"px"),O="".concat(a.width,"px"),z="".concat(a.height,"px");v.top!==w&&(v.top=w),v.left!==x&&(v.left=x),v.width!==O&&(v.width=O),v.height!==z&&(v.height=z)}),l(this,"stop",function(a){r.stopAutoScroll(),a&&r.applyElements("remove")}),l(this,"startAutoScroll",function(){r.currentEdges=[],r._scrollInterval=setInterval(function(){return r.handleAutoScroll()},16)}),l(this,"handleAutoScroll",function(){if(!r.DS.continue){var a=r.DS,f=a.stores.PointerStore,v=a.Area;r.currentEdges=_n({elementRect:L(f.currentVal),containerRect:r.rect,tolerance:r.DS.stores.SettingsStore.s.overflowTolerance}),r.currentEdges.length&&v.scroll(r.currentEdges,r.DS.stores.SettingsStore.s.autoScrollSpeed)}}),l(this,"stopAutoScroll",function(){r.currentEdges=[],clearInterval(r._scrollInterval)}),l(this,"isInside",function(a,f){return r.DS.Area.HTMLNode.contains(a)&&r.DS.stores.ScrollStore.canScroll?!0:ze(r.rect,f||a.getBoundingClientRect())}),this.DS=m,this.HTMLNode=gt(),this.DS.subscribe("Settings:updated:selectorAreaClass",function(a){var f=a.settings;r.HTMLNode.classList.remove(f["selectorAreaClass:pre"]),r.HTMLNode.classList.add(f.selectorAreaClass)}),this.HTMLNode.classList.add(this.DS.stores.SettingsStore.s.selectorAreaClass),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",function(){r.updatePos(),r.stopAutoScroll()})}return g(d,[{key:"isClicked",value:function(r){var m=this.DS.stores.PointerStore,a=r?m.getPointerPosition(r):m.initialVal;return ze({left:a.x,top:a.y,right:a.x,bottom:a.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),d}(),Fd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_currentValues",new Set),l(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),l(this,"init",function(){document.addEventListener("keydown",r.keydown),document.addEventListener("keyup",r.keyup),window.addEventListener("blur",r.reset)}),l(this,"keydown",function(a){var f=a.key.toLowerCase();r.DS.publish("KeyStore:down:pre",{event:a,key:f}),r._currentValues.add(f),r.DS.publish("KeyStore:down",{event:a,key:f})}),l(this,"keyup",function(a){var f=a.key.toLowerCase();r.DS.publish("KeyStore:up:pre",{event:a,key:f}),r._currentValues.delete(f),r.DS.publish("KeyStore:up",{event:a,key:f})}),l(this,"stop",function(){document.removeEventListener("keydown",r.keydown),document.removeEventListener("keyup",r.reset),window.removeEventListener("blur",r.reset),r.reset()}),l(this,"reset",function(){return r._currentValues.clear()}),this.DS=m,this.DS.subscribe("Interaction:init",this.init)}return g(d,[{key:"isMultiSelectKeyPressed",value:function(r){var m=this;if(this.DS.stores.SettingsStore.s.multiSelectMode)return!0;var a=this.DS.stores.SettingsStore.s.multiSelectKeys.map(function(f){return f.toLocaleLowerCase()});return!!(this.currentValues.some(function(f){return a.includes(f.toLocaleLowerCase())})||r&&a.some(function(f){return r[m._keyMapping[f]]}))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),d}(),Ud=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_isMouseInteraction",!1),l(this,"_initialValArea",void 0),l(this,"_currentValArea",void 0),l(this,"_lastValArea",void 0),l(this,"_initialVal",void 0),l(this,"_currentVal",void 0),l(this,"_lastVal",void 0),l(this,"_lastTouch",void 0),l(this,"init",function(){r.Settings.usePointerEvents?document.addEventListener("pointermove",r.update,{passive:!1}):document.addEventListener("mousemove",r.update),document.addEventListener("touchmove",r.update,{passive:!1})}),l(this,"getPointerPosition",function(a){return vd({event:r._normalizedEvent(a)})}),l(this,"update",function(a){a&&(r.DS.publish("PointerStore:updated:pre",{event:a}),r.currentVal=r.getPointerPosition(a),r._isMouseInteraction&&r.DS.publish("PointerStore:updated",{event:a}))}),l(this,"stop",function(){r.Settings.usePointerEvents?document.removeEventListener("pointermove",r.update,{passive:!1}):document.removeEventListener("mousemove",r.update),document.removeEventListener("touchmove",r.update,{passive:!1}),setTimeout(function(){return r._isMouseInteraction=!1},100)}),l(this,"reset",function(a){a&&(r.currentVal=r.lastVal=r.getPointerPosition(a),r.stop(),r.init())}),this.DS=m,this.Settings=m.stores.SettingsStore.s,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(a){var f=a.event;return r.start(f)}),this.DS.subscribe("Interaction:end",function(a){var f=a.event;return r.reset(f)})}return g(d,[{key:"start",value:function(r){r&&(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(r))}},{key:"_normalizedEvent",value:function(r){return"touches"in r&&r.type!=="touchend"&&(this._lastTouch=r),"touches"in r?this._lastTouch.touches[0]:r}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(r){this._initialVal=r,this._initialValArea=r&&T(r,"-",T(Y(this.DS.Area.rect),"+",Y(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(r){this._currentVal=r,this._currentValArea=r&&T(r,"-",T(Y(this.DS.Area.rect),"+",Y(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(r){this._lastVal=r,this._lastValArea=r&&T(r,"-",T(Y(this.DS.Area.rect),"+",Y(this.DS.Area.computedBorder)))}}]),d}(),Yd=function(){function d(h){var r=this,m=h.DS;s(this,d),l(this,"_initialVal",void 0),l(this,"_currentVal",void 0),l(this,"_canScroll",void 0),l(this,"init",function(){return r.DS.stores.SettingsStore.s.area.addEventListener("scroll",r.update)}),l(this,"start",function(){r._currentVal=r._initialVal=bt(r.DS.stores.SettingsStore.s.area),r.DS.stores.SettingsStore.s.area.addEventListener("scroll",r.update)}),l(this,"update",function(){return r._currentVal=bt(r.DS.stores.SettingsStore.s.area)}),l(this,"stop",function(){r.DS.stores.SettingsStore.s.area.removeEventListener("scroll",r.update),r._initialVal={x:0,y:0},r._canScroll=null}),l(this,"reset",function(){r.stop(),r.start()}),this.DS=m,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(){return r.start()}),this.DS.subscribe("Interaction:end",function(){return r.reset()})}return g(d,[{key:"canScroll",get:function(){return typeof this._canScroll=="boolean"?this._canScroll:this._canScroll=mt(this.DS.stores.SettingsStore.s.area)}},{key:"scrollAmount",get:function(){var r=T(this.currentVal,"-",this.initialVal),m=ce(this.DS.stores.SettingsStore.s.zoom),a=T(T(r,"*",m),"-",r);return{x:r.x+a.x,y:r.y+a.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=bt(this.DS.stores.SettingsStore.s.area)),this._currentVal}}]),d}(),Kd=g(function d(h){var r=this,m=h.DS,a=h.settings;s(this,d),l(this,"_settings",{}),l(this,"s",{}),l(this,"update",function(f){var v=f.settings,w=f.init;return r.DS.publish("Settings:updated:pre",c({settings:v},w?{init:w}:{}))}),l(this,"_update",function(f){for(var v=f.settings,w=f.init,x=Cd(v,w),O=function(){var he,ye=R(G[z],2),Z=ye[0],oe=ye[1];Z in r._settings||Object.defineProperty(r.s,Z,{get:function(){return r._settings[Z]},set:function(rt){return r.update({settings:l({},Z,rt)})}}),r._settings["".concat(Z,":pre")]=r._settings[Z],r._settings[Z]=oe;var tt={settings:(he={},l(he,Z,r._settings[Z]),l(he,"".concat(Z,":pre"),r._settings["".concat(Z,":pre")]),he)};r.DS.publish("Settings:updated",tt),r.DS.publish("Settings:updated:".concat(Z),tt)},z=0,G=Object.entries(x);z<G.length;z++)O()}),this.DS=m,this.DS.subscribe("Settings:updated:pre",this._update),this.update({settings:a,init:!0})}),Nn=function(){function d(h){var r=this;s(this,d),l(this,"continue",!1),l(this,"start",function(){r.stopped=!1,r.Interaction.init()}),l(this,"break",function(){return r.continue=!0}),l(this,"setSettings",function(m){return r.stores.SettingsStore.update({settings:m})}),l(this,"getSelection",function(){return r.SelectedSet.elements}),l(this,"getSelectables",function(){return r.SelectableSet.elements}),l(this,"getInitialCursorPosition",function(){return r.stores.PointerStore.initialVal}),l(this,"getCurrentCursorPosition",function(){return r.stores.PointerStore.currentVal}),l(this,"getPreviousCursorPosition",function(){return r.stores.PointerStore.lastVal}),l(this,"getInitialCursorPositionArea",function(){return r.stores.PointerStore.initialValArea}),l(this,"getCurrentCursorPositionArea",function(){return r.stores.PointerStore.currentValArea}),l(this,"getPreviousCursorPositionArea",function(){return r.stores.PointerStore.lastValArea}),l(this,"isMultiSelect",function(m){return r.stores.KeyStore.isMultiSelectKeyPressed(m)}),l(this,"isDragging",function(){return r.Interaction.isDragging}),l(this,"getZoneByCoordinates",function(m){var a;return(a=r.DropZones.getTarget(m))===null||a===void 0?void 0:a.toObject()}),l(this,"getItemsDroppedByZoneId",function(m){return r.DropZones.getItemsDroppedById(m)}),l(this,"getItemsInsideByZoneId",function(m,a){return r.DropZones.getItemsInsideById(m,a)}),this.PubSub=new Ld({DS:this}),this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this.stores={},this.stores.SettingsStore=new Kd({DS:this,settings:h}),this.stores.PointerStore=new Ud({DS:this}),this.stores.ScrollStore=new Yd({DS:this}),this.stores.KeyStore=new Fd({DS:this}),this.Area=new Ad({DS:this}),this.Selector=new Rd({DS:this}),this.SelectorArea=new Hd({DS:this}),this.SelectableSet=new jd({DS:this}),this.SelectedSet=new Pd({DS:this}),this.Selection=new zd({DS:this}),this.Drag=new Bd({DS:this}),this.DropZones=new Id({DS:this}),this.Interaction=new Od({DS:this}),Md({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction,DropZones:this.DropZones}),this.subscribe("Interaction:end",function(){return r.continue=!1}),this.start()}return g(d,[{key:"stop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;a&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(r),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),r&&this.SelectableSet.clear(),m&&this.SelectedSet.clear(),this.stopped=!0}},{key:"addSelection",value:function(r){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.addAll(Ne(r)),a||this.addSelectables(r),m&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(r){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.deleteAll(Ne(r)),a&&this.removeSelectables(r),m&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(r){var m=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Ne(r).forEach(function(v){return m.SelectedSet.has(v)?m.removeSelection(r,a,f):m.addSelection(r,a,f)}),a&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(r){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.clearSelection(),this.addSelection(r,m,a),this.getSelection()}},{key:"clearSelection",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.SelectedSet.clear(),r&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(r,m,a){var f=Ne(r);return this.SelectableSet.addAll(f),m&&this.SelectedSet.addAll(f),a&&this.PubSub.publish("callback",{items:this.getSelection()}),r}},{key:"setSelectables",value:function(r){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return console.warn('[DragSelect] DEPRECATION ".setSelectables" is deprecated and will be removed soon. Please use "ds.setSettings({ selectables: << new dom elements >> })" instead (see docs)'),this.removeSelectables(r,m),this.addSelectables(r,a)}},{key:"removeSelectables",value:function(r,m,a){return this.SelectableSet.deleteAll(Ne(r)),m&&this.removeSelection(r),a&&this.PubSub.publish("callback",{items:this.getSelection()}),r}}]),d}();return Nn.isCollision=ze,Nn})})(or);var eo=or.exports;const to=Qn(eo),ir=(n,t,o,i,c)=>(t=Math,o=t.log,i=1024,c=o(n)/o(i)|0,n/t.pow(i,c)).toFixed(0)+" "+(c?"KMGTPEZY"[--c]+"iB":"B"),ar=(n,t=null)=>new Date(n*1e3).toLocaleString(t??navigator.language??"en-US"),ro={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},no=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)],oo={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},io=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)],it=Object.assign({name:"VFSortIcon"},{props:{direction:String},setup(n){return(t,o)=>(e.openBlock(),e.createElementBlock("div",null,[n.direction=="down"?(e.openBlock(),e.createElementBlock("svg",ro,no)):e.createCommentVNode("",!0),n.direction=="up"?(e.openBlock(),e.createElementBlock("svg",oo,io)):e.createCommentVNode("",!0)]))}}),ao=["onClick"],so=Object.assign({name:"VFToast.vue"},{setup(n){const t=e.inject("emitter"),{getStore:o}=e.inject("storage"),i=e.ref(o("full-screen",!1)),c=l=>l=="error"?"text-red-400 border-red-400 dark:text-red-300 dark:border-red-300":"text-lime-600 border-lime-600 dark:text-lime-300 dark:border-lime-1300",s=e.ref([]),u=l=>{s.value.splice(l,1)},g=l=>{let y=s.value.findIndex(p=>p.id===l);y!==-1&&u(y)};return t.on("vf-toast-clear",()=>{s.value=[]}),t.on("vf-toast-push",l=>{let y=new Date().getTime().toString(36).concat(performance.now().toString(),Math.random().toString()).replace(/\./g,"");l.id=y,s.value.push(l),setTimeout(()=>{g(y)},5e3)}),(l,y)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([i.value.value?"fixed":"absolute","bottom-0 max-w-fit flex flex-col bottom-0 left-1/2 -translate-x-1/2"])},[e.createVNode(e.TransitionGroup,{name:"vf-toast-item","leave-active-class":"transition-all duration-1000","leave-to-class":"opacity-0"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(p,b)=>(e.openBlock(),e.createElementBlock("div",{onClick:S=>u(b),key:p,class:e.normalizeClass([c(p.type),"inline-block mx-auto my-0.5 py-0.5 px-2 min-w-max bg-gray-50 dark:bg-gray-600 border text-xs sm:text-sm rounded cursor-pointer"])},e.toDisplayString(p.label),11,ao))),128))]),_:1})],2))}}),Re=n=>Object.entries(n).map(t=>t.map(encodeURIComponent).join("=")).join("&"),{apiUrl:lo}=Se(),_t=(n,t)=>lo.value+"?"+Re({q:"preview",adapter:n,path:t}),we=typeof window<"u",sr=we&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),lr=we&&"IntersectionObserver"in window,cr=we&&"classList"in document.createElement("p"),dr=we&&window.devicePixelRatio>1,co={elements_selector:".lazy",container:sr||we?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},hr=n=>Object.assign({},co,n),ur=function(n,t){let o;const i="LazyLoad::Initialized",c=new n(t);try{o=new CustomEvent(i,{detail:{instance:c}})}catch{o=document.createEvent("CustomEvent"),o.initCustomEvent(i,!1,!1,{instance:c})}window.dispatchEvent(o)},ho=(n,t)=>{if(t)if(!t.length)ur(n,t);else for(let o=0,i;i=t[o];o+=1)ur(n,i)},ve="src",kt="srcset",xt="sizes",fr="poster",He="llOriginalAttrs",pr="data",Dt="loading",mr="loaded",gr="applied",uo="entered",Et="error",yr="native",br="data-",vr="ll-status",J=(n,t)=>n.getAttribute(br+t),fo=(n,t,o)=>{const i=br+t;if(o===null){n.removeAttribute(i);return}n.setAttribute(i,o)},Fe=n=>J(n,vr),Ce=(n,t)=>fo(n,vr,t),at=n=>Ce(n,null),Nt=n=>Fe(n)===null,po=n=>Fe(n)===Dt,mo=n=>Fe(n)===Et,Ct=n=>Fe(n)===yr,go=[Dt,mr,gr,Et],yo=n=>go.indexOf(Fe(n))>=0,_e=(n,t,o,i)=>{if(!(!n||typeof n!="function")){if(i!==void 0){n(t,o,i);return}if(o!==void 0){n(t,o);return}n(t)}},Be=(n,t)=>{if(cr){n.classList.add(t);return}n.className+=(n.className?" ":"")+t},ue=(n,t)=>{if(cr){n.classList.remove(t);return}n.className=n.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},bo=n=>{n.llTempImage=document.createElement("IMG")},vo=n=>{delete n.llTempImage},Sr=n=>n.llTempImage,st=(n,t)=>{if(!t)return;const o=t._observer;o&&o.unobserve(n)},So=n=>{n.disconnect()},wo=(n,t,o)=>{t.unobserve_entered&&st(n,o)},Vt=(n,t)=>{n&&(n.loadingCount+=t)},_o=n=>{n&&(n.toLoadCount-=1)},wr=(n,t)=>{n&&(n.toLoadCount=t)},ko=n=>n.loadingCount>0,xo=n=>n.toLoadCount>0,_r=n=>{let t=[];for(let o=0,i;i=n.children[o];o+=1)i.tagName==="SOURCE"&&t.push(i);return t},Tt=(n,t)=>{const o=n.parentNode;if(!o||o.tagName!=="PICTURE")return;_r(o).forEach(t)},kr=(n,t)=>{_r(n).forEach(t)},lt=[ve],xr=[ve,fr],Ue=[ve,kt,xt],Dr=[pr],ct=n=>!!n[He],Er=n=>n[He],Nr=n=>delete n[He],$e=(n,t)=>{if(ct(n))return;const o={};t.forEach(i=>{o[i]=n.getAttribute(i)}),n[He]=o},Do=n=>{ct(n)||(n[He]={backgroundImage:n.style.backgroundImage})},Eo=(n,t,o)=>{if(!o){n.removeAttribute(t);return}n.setAttribute(t,o)},Ve=(n,t)=>{if(!ct(n))return;const o=Er(n);t.forEach(i=>{Eo(n,i,o[i])})},No=n=>{if(!ct(n))return;const t=Er(n);n.style.backgroundImage=t.backgroundImage},Cr=(n,t,o)=>{Be(n,t.class_applied),Ce(n,gr),o&&(t.unobserve_completed&&st(n,t),_e(t.callback_applied,n,o))},Vr=(n,t,o)=>{Be(n,t.class_loading),Ce(n,Dt),o&&(Vt(o,1),_e(t.callback_loading,n,o))},ke=(n,t,o)=>{o&&n.setAttribute(t,o)},Tr=(n,t)=>{ke(n,xt,J(n,t.data_sizes)),ke(n,kt,J(n,t.data_srcset)),ke(n,ve,J(n,t.data_src))},Co=(n,t)=>{Tt(n,o=>{$e(o,Ue),Tr(o,t)}),$e(n,Ue),Tr(n,t)},Vo=(n,t)=>{$e(n,lt),ke(n,ve,J(n,t.data_src))},To=(n,t)=>{kr(n,o=>{$e(o,lt),ke(o,ve,J(o,t.data_src))}),$e(n,xr),ke(n,fr,J(n,t.data_poster)),ke(n,ve,J(n,t.data_src)),n.load()},Mo=(n,t)=>{$e(n,Dr),ke(n,pr,J(n,t.data_src))},Ao=(n,t,o)=>{const i=J(n,t.data_bg),c=J(n,t.data_bg_hidpi),s=dr&&c?c:i;s&&(n.style.backgroundImage=`url("${s}")`,Sr(n).setAttribute(ve,s),Vr(n,t,o))},Bo=(n,t,o)=>{const i=J(n,t.data_bg_multi),c=J(n,t.data_bg_multi_hidpi),s=dr&&c?c:i;s&&(n.style.backgroundImage=s,Cr(n,t,o))},$o=(n,t,o)=>{const i=J(n,t.data_bg_set);if(!i)return;const c=i.split("|");let s=c.map(u=>`image-set(${u})`);n.style.backgroundImage=s.join(),n.style.backgroundImage===""&&(s=c.map(u=>`-webkit-image-set(${u})`),n.style.backgroundImage=s.join()),Cr(n,t,o)},Mr={IMG:Co,IFRAME:Vo,VIDEO:To,OBJECT:Mo},Io=(n,t)=>{const o=Mr[n.tagName];o&&o(n,t)},Oo=(n,t,o)=>{const i=Mr[n.tagName];i&&(i(n,t),Vr(n,t,o))},Lo=["IMG","IFRAME","VIDEO","OBJECT"],jo=n=>Lo.indexOf(n.tagName)>-1,Ar=(n,t)=>{t&&!ko(t)&&!xo(t)&&_e(n.callback_finish,t)},Br=(n,t,o)=>{n.addEventListener(t,o),n.llEvLisnrs[t]=o},Po=(n,t,o)=>{n.removeEventListener(t,o)},Mt=n=>!!n.llEvLisnrs,zo=(n,t,o)=>{Mt(n)||(n.llEvLisnrs={});const i=n.tagName==="VIDEO"?"loadeddata":"load";Br(n,i,t),Br(n,"error",o)},At=n=>{if(!Mt(n))return;const t=n.llEvLisnrs;for(let o in t){const i=t[o];Po(n,o,i)}delete n.llEvLisnrs},$r=(n,t,o)=>{vo(n),Vt(o,-1),_o(o),ue(n,t.class_loading),t.unobserve_completed&&st(n,o)},Ro=(n,t,o,i)=>{const c=Ct(t);$r(t,o,i),Be(t,o.class_loaded),Ce(t,mr),_e(o.callback_loaded,t,i),c||Ar(o,i)},Ho=(n,t,o,i)=>{const c=Ct(t);$r(t,o,i),Be(t,o.class_error),Ce(t,Et),_e(o.callback_error,t,i),o.restore_on_error&&Ve(t,Ue),c||Ar(o,i)},Bt=(n,t,o)=>{const i=Sr(n)||n;if(Mt(i))return;zo(i,u=>{Ro(u,n,t,o),At(i)},u=>{Ho(u,n,t,o),At(i)})},Fo=(n,t,o)=>{bo(n),Bt(n,t,o),Do(n),Ao(n,t,o),Bo(n,t,o),$o(n,t,o)},Uo=(n,t,o)=>{Bt(n,t,o),Oo(n,t,o)},$t=(n,t,o)=>{jo(n)?Uo(n,t,o):Fo(n,t,o)},Yo=(n,t,o)=>{n.setAttribute("loading","lazy"),Bt(n,t,o),Io(n,t),Ce(n,yr)},Ir=n=>{n.removeAttribute(ve),n.removeAttribute(kt),n.removeAttribute(xt)},Ko=n=>{Tt(n,t=>{Ir(t)}),Ir(n)},Or=n=>{Tt(n,t=>{Ve(t,Ue)}),Ve(n,Ue)},Wo={IMG:Or,IFRAME:n=>{Ve(n,lt)},VIDEO:n=>{kr(n,t=>{Ve(t,lt)}),Ve(n,xr),n.load()},OBJECT:n=>{Ve(n,Dr)}},Xo=n=>{const t=Wo[n.tagName];if(!t){No(n);return}t(n)},Zo=(n,t)=>{Nt(n)||Ct(n)||(ue(n,t.class_entered),ue(n,t.class_exited),ue(n,t.class_applied),ue(n,t.class_loading),ue(n,t.class_loaded),ue(n,t.class_error))},qo=(n,t)=>{Xo(n),Zo(n,t),at(n),Nr(n)},Go=(n,t,o,i)=>{o.cancel_on_exit&&po(n)&&n.tagName==="IMG"&&(At(n),Ko(n),Or(n),ue(n,o.class_loading),Vt(i,-1),at(n),_e(o.callback_cancel,n,t,i))},Jo=(n,t,o,i)=>{const c=yo(n);Ce(n,uo),Be(n,o.class_entered),ue(n,o.class_exited),wo(n,o,i),_e(o.callback_enter,n,t,i),!c&&$t(n,o,i)},Qo=(n,t,o,i)=>{Nt(n)||(Be(n,o.class_exited),Go(n,t,o,i),_e(o.callback_exit,n,t,i))},ei=["IMG","IFRAME","VIDEO"],Lr=n=>n.use_native&&"loading"in HTMLImageElement.prototype,ti=(n,t,o)=>{n.forEach(i=>{ei.indexOf(i.tagName)!==-1&&Yo(i,t,o)}),wr(o,0)},ri=n=>n.isIntersecting||n.intersectionRatio>0,ni=n=>({root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}),oi=(n,t,o)=>{n.forEach(i=>ri(i)?Jo(i.target,i,t,o):Qo(i.target,i,t,o))},ii=(n,t)=>{t.forEach(o=>{n.observe(o)})},ai=(n,t)=>{So(n),ii(n,t)},si=(n,t)=>{!lr||Lr(n)||(t._observer=new IntersectionObserver(o=>{oi(o,n,t)},ni(n)))},jr=n=>Array.prototype.slice.call(n),dt=n=>n.container.querySelectorAll(n.elements_selector),li=n=>jr(n).filter(Nt),ci=n=>mo(n),di=n=>jr(n).filter(ci),Pr=(n,t)=>li(n||dt(t)),hi=(n,t)=>{di(dt(n)).forEach(i=>{ue(i,n.class_error),at(i)}),t.update()},ui=(n,t)=>{we&&(t._onlineHandler=()=>{hi(n,t)},window.addEventListener("online",t._onlineHandler))},fi=n=>{we&&window.removeEventListener("online",n._onlineHandler)},Ye=function(n,t){const o=hr(n);this._settings=o,this.loadingCount=0,si(o,this),ui(o,this),this.update(t)};Ye.prototype={update:function(n){const t=this._settings,o=Pr(n,t);if(wr(this,o.length),sr||!lr){this.loadAll(o);return}if(Lr(t)){ti(o,t,this);return}ai(this._observer,o)},destroy:function(){this._observer&&this._observer.disconnect(),fi(this),dt(this._settings).forEach(n=>{Nr(n)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){const t=this._settings;Pr(n,t).forEach(i=>{st(i,this),$t(i,t,this)})},restoreAll:function(){const n=this._settings;dt(n).forEach(t=>{qo(t,n)})}},Ye.load=(n,t)=>{const o=hr(t);$t(n,o)},Ye.resetStatus=n=>{at(n)},we&&ho(Ye,window.lazyLoadOptions);const pi={class:"relative flex-auto flex flex-col overflow-hidden"},mi={key:0,class:"grid grid-cols-12 border-b border-neutral-300 border-gray-200 dark:border-gray-700 text-xs select-none"},gi={class:"absolute"},yi=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"absolute h-6 w-6 md:h-12 md:w-12 m-auto stroke-neutral-500 fill-white dark:fill-gray-700 dark:stroke-gray-600 z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),bi={class:"text-neutral-700 dark:text-neutral-300 p-1 absolute text-center top-4 right-[-2rem] md:top-5 md:right-[-2.4rem] z-20 text-xs"},vi=["onDblclick","onContextmenu","data-type","data-item","data-index"],Si={class:"grid grid-cols-12 items-center"},wi={class:"flex col-span-7 items-center"},_i={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ki=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],xi={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Di=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ei={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Ni={class:"col-span-5 overflow-ellipsis overflow-hidden whitespace-nowrap"},Ci=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],Vi={class:"grid grid-cols-12 items-center"},Ti={class:"flex col-span-7 items-center"},Mi={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ai=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Bi={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},$i=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ii={class:"overflow-ellipsis overflow-hidden whitespace-nowrap"},Oi={class:"col-span-2 text-center"},Li={class:"col-span-3 overflow-ellipsis overflow-hidden whitespace-nowrap text-center"},ji=["onDblclick","onContextmenu","onDragstart","onDragover","onDrop","data-type","data-item","data-index"],Pi={class:"relative"},zi={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 md:h-12 md:w-12 m-auto fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ri=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Hi=["data-src","alt"],Fi={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 md:h-12 md:w-12 m-auto text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ui=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Yi={key:3,class:"absolute hidden md:block top-1/2 w-full text-center text-neutral-500"},Ki={class:"break-all"},Wi=Object.assign({name:"VFExplorer"},{props:{view:String,data:Object,search:Object},setup(n){const t=n,o=e.inject("emitter"),{setStore:i,getStore:c}=e.inject("storage"),s=e.inject("adapter"),u=C=>C==null?void 0:C.substring(0,3),g=C=>C.replace(/((?=([\w\W]{0,14}))([\w\W]{8,})([\w\W]{8,}))/,"$2..$4"),l=e.ref(null),y=e.ref(null),p=e.ref(0),b=e.ref(null),{t:S}=e.inject("i18n"),N=Math.floor(Math.random()*2**32),E=e.ref(c("full-screen",!1)),D=new Ye;o.on("vf-fullscreen-toggle",()=>{l.value.style.height=null,E.value=!E.value,i("full-screen",E.value)});const _=e.ref("");o.on("vf-search-query",({newQuery:C})=>{_.value=C,C?o.emit("vf-fetch",{params:{q:"search",adapter:t.data.adapter,path:t.data.dirname,filter:C},onSuccess:$=>{$.files.length||o.emit("vf-toast-push",{label:S("No search result found.")})}}):o.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:t.data.dirname}})});let A=null;const I=()=>{A&&clearTimeout(A)},V=e.ref(!0),B=C=>{C.touches.length>1&&(V.value?(b.value.stop(),o.emit("vf-toast-push",{label:S("Drag&Drop: off")})):(b.value.start(),o.emit("vf-toast-push",{label:S("Drag&Drop: on")}),o.emit("vf-explorer-update")),V.value=!V.value)},R=C=>{A=setTimeout(()=>{const $=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:C.target.getBoundingClientRect().x,clientY:C.target.getBoundingClientRect().y});C.target.dispatchEvent($)},500)},k=C=>{C.type=="dir"?(o.emit("vf-search-exit"),o.emit("vf-fetch",{params:{q:"index",adapter:t.data.adapter,path:C.path}})):o.emit("ca-download",C)},M=e.reactive({active:!1,column:"",order:""}),H=(C=!0)=>{let $=[...t.data.files],T=M.column,Y=M.order=="asc"?1:-1;if(!C)return $;const L=(ce,se)=>typeof ce=="string"&&typeof se=="string"?ce.toLowerCase().localeCompare(se.toLowerCase()):ce<se?-1:ce>se?1:0;return M.active&&($=$.slice().sort((ce,se)=>L(ce[T],se[T])*Y)),$},X=C=>{M.active&&M.column==C?(M.active=M.order=="asc",M.column=C,M.order="desc"):(M.active=!0,M.column=C,M.order="asc")},W=()=>b.value.getSelection().map(C=>JSON.parse(C.dataset.item)),te=(C,$)=>{if(C.altKey||C.ctrlKey||C.metaKey)return C.preventDefault(),!1;C.dataTransfer.setDragImage(y.value,0,15),C.dataTransfer.effectAllowed="all",C.dataTransfer.dropEffect="copy",C.dataTransfer.setData("items",JSON.stringify(W()))},ae=(C,$)=>{C.preventDefault();let T=JSON.parse(C.dataTransfer.getData("items"));if(T.find(Y=>Y.storage!=s.value)){alert("Moving items between different storages is not supported yet.");return}o.emit("vf-modal-show",{type:"move",items:{from:T,to:$}})},ne=(C,$)=>{C.preventDefault(),!$||$.type!=="dir"||b.value.getSelection().find(T=>T==C.currentTarget)?(C.dataTransfer.dropEffect="none",C.dataTransfer.effectAllowed="none"):C.dataTransfer.dropEffect="copy"},re=()=>{b.value=new to({area:l.value,keyboardDrag:!1,selectedClass:"vf-explorer-selected",selectorClass:"vf-explorer-selector"}),o.on("vf-explorer-update",()=>e.nextTick(()=>{b.value.clearSelection(),b.value.setSelectables(document.getElementsByClassName("vf-item-"+N))})),b.value.subscribe("predragstart",({event:C,isDragging:$})=>{if($)p.value=b.value.getSelection().length,b.value.break();else{const T=C.target.offsetWidth-C.offsetX,Y=C.target.offsetHeight-C.offsetY;T<15&&Y<15&&(b.value.clearSelection(),b.value.break())}}),b.value.subscribe("predragmove",({isDragging:C})=>{C&&b.value.break()}),b.value.subscribe("callback",({items:C,event:$,isDragging:T})=>{o.emit("vf-nodes-selected",W()),p.value=b.value.getSelection().length})};return e.onMounted(re),e.onUpdated(()=>{b.value.Area.reset(),b.value.SelectorArea.updatePos(),D.update()}),e.onMounted(()=>{e.watch(()=>t.view,()=>o.emit("vf-explorer-update"))}),(C,$)=>(e.openBlock(),e.createElementBlock("div",pi,[n.view=="list"||_.value.length?(e.openBlock(),e.createElementBlock("div",mi,[e.createElementVNode("div",{onClick:$[0]||($[0]=T=>X("basename")),class:"col-span-7 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center pl-1"},[e.createTextVNode(e.toDisplayString(e.unref(S)("Name"))+" ",1),e.withDirectives(e.createVNode(it,{direction:M.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,M.active&&M.column=="basename"]])]),_.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,onClick:$[1]||($[1]=T=>X("file_size")),class:"col-span-2 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l border-r dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(S)("Size"))+" ",1),e.withDirectives(e.createVNode(it,{direction:M.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,M.active&&M.column=="file_size"]])])),_.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,onClick:$[2]||($[2]=T=>X("last_modified")),class:"col-span-3 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center"},[e.createTextVNode(e.toDisplayString(e.unref(S)("Date"))+" ",1),e.withDirectives(e.createVNode(it,{direction:M.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,M.active&&M.column=="last_modified"]])])),_.value.length?(e.openBlock(),e.createElementBlock("div",{key:2,onClick:$[3]||($[3]=T=>X("path")),class:"col-span-5 py-1 leading-6 hover:bg-neutral-100 bg-neutral-50 dark:bg-gray-800 dark:hover:bg-gray-700/10 flex items-center justify-center border-l dark:border-gray-700"},[e.createTextVNode(e.toDisplayString(e.unref(S)("Filepath"))+" ",1),e.withDirectives(e.createVNode(it,{direction:M.order=="asc"?"down":"up"},null,8,["direction"]),[[e.vShow,M.active&&M.column=="path"]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",gi,[e.createElementVNode("div",{ref_key:"dragImage",ref:y,class:"absolute -z-50 -top-96"},[yi,e.createElementVNode("div",bi,e.toDisplayString(p.value),1)],512)]),e.createElementVNode("div",{onTouchstart:B,onContextmenu:$[10]||($[10]=e.withModifiers(T=>e.unref(o).emit("vf-contextmenu-show",{event:T,area:l.value,items:W()}),["self","prevent"])),class:e.normalizeClass([E.value?"":"resize-y","h-full w-full text-xs vf-selector-area min-h-[150px] overflow-auto p-1 z-0"]),ref_key:"selectorArea",ref:l},[_.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(H(),(T,Y)=>(e.openBlock(),e.createElementBlock("div",{onDblclick:L=>k(T),onTouchstart:$[4]||($[4]=L=>R(L)),onTouchend:$[5]||($[5]=L=>I()),onContextmenu:e.withModifiers(L=>e.unref(o).emit("vf-contextmenu-show",{event:L,area:l.value,items:W(),target:T}),["prevent"]),class:e.normalizeClass(["vf-item-"+e.unref(N),"grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":Y},[e.createElementVNode("div",Si,[e.createElementVNode("div",wi,[T.type=="dir"?(e.openBlock(),e.createElementBlock("svg",_i,ki)):(e.openBlock(),e.createElementBlock("svg",xi,Di)),e.createElementVNode("span",Ei,e.toDisplayString(T.basename),1)]),e.createElementVNode("div",Ni,e.toDisplayString(T.path),1)])],42,vi))),256)):e.createCommentVNode("",!0),n.view=="list"&&!_.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(H(),(T,Y)=>(e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:L=>k(T),onTouchstart:$[6]||($[6]=L=>R(L)),onTouchend:$[7]||($[7]=L=>I()),onContextmenu:e.withModifiers(L=>e.unref(o).emit("vf-contextmenu-show",{event:L,area:l.value,items:W(),target:T}),["prevent"]),onDragstart:L=>te(L),onDragover:L=>ne(L,T),onDrop:L=>ae(L,T),class:e.normalizeClass(["vf-item-"+e.unref(N),"grid grid-cols-1 border hover:bg-neutral-50 dark:hover:bg-gray-700 border-transparent my-0.5 w-full select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":Y},[e.createElementVNode("div",Vi,[e.createElementVNode("div",Ti,[T.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Mi,Ai)):(e.openBlock(),e.createElementBlock("svg",Bi,$i)),e.createElementVNode("span",Ii,e.toDisplayString(T.basename),1)]),e.createElementVNode("div",Oi,e.toDisplayString(T.file_size?e.unref(ir)(T.file_size):""),1),e.createElementVNode("div",Li,e.toDisplayString(e.unref(ar)(T.last_modified)),1)])],42,Ci))),256)):e.createCommentVNode("",!0),n.view=="grid"&&!_.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(H(!1),(T,Y)=>(e.openBlock(),e.createElementBlock("div",{draggable:"true",onDblclick:L=>k(T),onTouchstart:$[8]||($[8]=L=>R(L)),onTouchend:$[9]||($[9]=L=>I()),onContextmenu:e.withModifiers(L=>e.unref(o).emit("vf-contextmenu-show",{event:L,area:l.value,items:W(),target:T}),["prevent"]),onDragstart:L=>te(L),onDragover:L=>ne(L,T),onDrop:L=>ae(L,T),class:e.normalizeClass(["vf-item-"+e.unref(N),"border border-transparent hover:bg-neutral-50 m-1 dark:hover:bg-gray-700 inline-flex w-[5.5rem] h-20 md:w-24 text-center justify-center select-none"]),"data-type":T.type,"data-item":JSON.stringify(T),"data-index":Y},[e.createElementVNode("div",null,[e.createElementVNode("div",Pi,[T.type=="dir"?(e.openBlock(),e.createElementBlock("svg",zi,Ri)):(T.mime_type??"").startsWith("image")?(e.openBlock(),e.createElementBlock("img",{key:1,class:"lazy h-10 md:h-12 m-auto","data-src":e.unref(_t)(e.unref(s).value,T.path),alt:T.basename},null,8,Hi)):(e.openBlock(),e.createElementBlock("svg",Fi,Ui)),!(T.mime_type??"").startsWith("image")&&T.type!="dir"?(e.openBlock(),e.createElementBlock("div",Yi,e.toDisplayString(u(T.extension)),1)):e.createCommentVNode("",!0)]),e.createElementVNode("span",Ki,e.toDisplayString(g(T.basename)),1)])],42,ji))),256)):e.createCommentVNode("",!0)],34),e.createVNode(so)]))}}),Xi={class:"p-1 text-xs border-t border-neutral-300 dark:border-gray-700/50 flex justify-between select-none"},Zi={class:"flex leading-5 items-center"},qi=["aria-label"],Gi=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})],-1)],Ji=["value"],Qi={class:"ml-3"},ea={key:0},ta={class:"ml-1"},ra={class:"flex leading-5 items-center"},na={value:"",disabled:""},oa=e.createStaticVNode('<option value="en">English</option><option value="fr">French (Français)</option><option value="de">German (Deutsch)</option><option value="tr">Hebrew (עִברִית)</option><option value="hi">Hindi (हिंदी)</option><option value="fa">Persian (فارسی)</option><option value="ru">Russian (Pусский)</option><option value="sv">Swedish (Svenska)</option><option value="tr">Turkish (Türkçe)</option>',9),ia=Object.assign({name:"VFStatusbar"},{props:{data:Object},setup(n){const t=e.inject("emitter"),{getStore:o,setStore:i}=e.inject("storage"),c=e.ref(0),s=e.inject("adapter"),u=e.inject("hideAdapterSelection"),g=e.inject("hideLanguageSelection"),{t:l,changeLocale:y}=e.inject("i18n"),p=e.ref(o("locale","")),b=()=>{t.emit("vf-search-exit"),t.emit("vf-fetch",{params:{q:"index",adapter:s.value}}),i("adapter",s.value)};t.on("vf-nodes-selected",N=>{c.value=N.length});const S=e.ref("");return t.on("vf-search-query",({newQuery:N})=>{S.value=N}),(N,E)=>(e.openBlock(),e.createElementBlock("div",Xi,[e.createElementVNode("div",Zi,[e.createElementVNode("div",{class:"mx-2","aria-label":e.unref(l)("Storage"),"data-microtip-position":"top-right",role:"tooltip"},Gi,8,qi),e.unref(u)?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("select",{key:0,"onUpdate:modelValue":E[0]||(E[0]=D=>e.isRef(s)?s.value=D:null),onChange:b,class:"py-0.5 text-sm text-slate-500 dark:text-neutral-50 dark:bg-gray-700 rounded pl-2 pr-8"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data.storages,D=>(e.openBlock(),e.createElementBlock("option",{value:D},e.toDisplayString(D),9,Ji))),256))],544)),[[e.vModelSelect,e.unref(s)]]),e.createElementVNode("div",Qi,[S.value.length?(e.openBlock(),e.createElementBlock("span",ea,e.toDisplayString(n.data.files.length)+" items found. ",1)):e.createCommentVNode("",!0),e.createElementVNode("span",ta,e.toDisplayString(c.value>0?c.value+" "+e.unref(l)("item(s) selected."):""),1)])]),e.createElementVNode("div",ra,[e.unref(g)?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("select",{key:0,"onUpdate:modelValue":E[1]||(E[1]=D=>p.value=D),onChange:E[2]||(E[2]=D=>e.unref(y)(D.target.value)),class:"py-0.5 text-sm text-slate-500 dark:text-neutral-50 dark:bg-gray-700 rounded pl-2 pr-8 mr-3"},[e.createElementVNode("option",na,e.toDisplayString(e.unref(l)("Language")),1),oa],544)),[[e.vModelSelect,p.value]])])]))}}),aa=(n,t=0,o=!1)=>{let i;return(...c)=>{o&&!i&&n(...c),clearTimeout(i),i=setTimeout(()=>{n(...c)},t)}},sa=(n,t,o)=>{const i=e.ref(n);return e.customRef((s,u)=>({get(){return s(),i.value},set:aa(g=>{i.value=g,u()},t,o)}))},la={class:"flex p-1.5 bg-neutral-100 dark:bg-gray-800 border-t border-b border-neutral-300 dark:border-gray-700/50 items-center select-none text-xs"},ca=["aria-label"],da=[e.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)],ha=["aria-label"],ua=[e.createElementVNode("path",{d:"M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"},null,-1)],fa=["aria-label"],pa=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],ma=["onClick"],ga=[e.createElementVNode("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},null,-1)],ya={class:"flex leading-5"},ba=e.createElementVNode("span",{class:"text-neutral-300 dark:text-gray-600 mx-0.5"},"/",-1),va=["title","onClick"],Sa={key:0,class:"animate-spin p-1 h-6 w-6 text-white ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},wa=[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)],_a={key:3,class:"relative flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full"},ka=e.createElementVNode("svg",{class:"h-6 w-6 p-1 m-auto stroke-gray-400 fill-gray-100 dark:stroke-gray-400 dark:fill-gray-400/20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),xa=e.createElementVNode("div",{class:"w-full"},null,-1),Da=["onKeydown","placeholder"],Ea=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)],Na=Object.assign({name:"VFBreadcrumb"},{props:{data:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),i=e.ref(null),c=e.ref([]),s=e.ref(!1),u=e.ref(null),g=n,{t:l}=e.inject("i18n"),y=e.inject("loadingState");t.on("vf-explorer-update",()=>{let I=[],V=[];i.value=g.data.dirname??o.value+"://",i.value.length==0&&(c.value=[]),i.value.replace(o.value+"://","").split("/").forEach(function(B){I.push(B),I.join("/")!=""&&V.push({basename:B,name:B,path:o.value+"://"+I.join("/"),type:"dir"})}),V.length>4&&(V=V.slice(-5),V[0].name=".."),c.value=V});const p=()=>{s.value=!1,S.value=""};t.on("vf-search-exit",()=>{p()});const b=()=>{s.value=!0,e.nextTick(()=>u.value.focus())},S=sa("",400),N=()=>y.value;e.watch(S,I=>{t.emit("vf-toast-clear"),t.emit("vf-search-query",{newQuery:I})});const E=()=>c.value.length&&!s.value,D=I=>{I.preventDefault();let V=JSON.parse(I.dataTransfer.getData("items"));if(V.find(B=>B.storage!=o.value)){alert("Moving items between different storages is not supported yet.");return}t.emit("vf-modal-show",{type:"move",items:{from:V,to:c.value[c.value.length-2]??{path:o.value+"://"}}})},_=I=>{I.preventDefault(),E()?I.dataTransfer.dropEffect="copy":(I.dataTransfer.dropEffect="none",I.dataTransfer.effectAllowed="none")},A=()=>{S.value==""&&p()};return(I,V)=>(e.openBlock(),e.createElementBlock("div",la,[e.createElementVNode("span",{"aria-label":e.unref(l)("Go up a directory"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onDragover:V[0]||(V[0]=B=>_(B)),onDrop:V[1]||(V[1]=B=>D(B)),onClick:V[2]||(V[2]=B=>{var R;return!E()||e.unref(t).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:((R=c.value[c.value.length-2])==null?void 0:R.path)??e.unref(o)+"://"}})}),class:e.normalizeClass(["h-6 w-6 p-0.5 rounded",E()?"text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer":"text-gray-400 dark:text-neutral-500"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},da,34))],8,ca),N()?(e.openBlock(),e.createElementBlock("span",{key:1,"aria-label":e.unref(l)("Cancel"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:V[4]||(V[4]=B=>e.unref(t).emit("vf-fetch-abort")),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer"},pa))],8,fa)):(e.openBlock(),e.createElementBlock("span",{key:0,"aria-label":e.unref(l)("Refresh"),"data-microtip-position":"bottom-right",role:"tooltip"},[(e.openBlock(),e.createElementBlock("svg",{onClick:V[3]||(V[3]=B=>{e.unref(t).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:n.data.dirname}})}),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"-40 -40 580 580",fill:"currentColor"},ua))],8,ha)),s.value?(e.openBlock(),e.createElementBlock("div",_a,[ka,xa,e.withDirectives(e.createElementVNode("input",{ref_key:"searchInput",ref:u,onKeydown:e.withKeys(p,["esc"]),onBlur:A,"onUpdate:modelValue":V[6]||(V[6]=B=>e.isRef(S)?S.value=B:null),placeholder:e.unref(l)("Search anything.."),class:"absolute ml-4 pt-1 pb-0 px-2 border-0 ring-0 outline-0 text-gray-600 focus:ring-transparent focus:border-transparent dark:focus:ring-transparent dark:focus:border-transparent dark:text-gray-300 bg-transparent",type:"text"},null,40,Da),[[e.vModelText,e.unref(S)]]),(e.openBlock(),e.createElementBlock("svg",{class:"w-6 h-6 cursor-pointer",onClick:p,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ea))])):(e.openBlock(),e.createElementBlock("div",{key:2,class:"group flex bg-white dark:bg-gray-700 items-center rounded p-1 ml-2 w-full",onClick:e.withModifiers(b,["self"])},[(e.openBlock(),e.createElementBlock("svg",{onClick:V[5]||(V[5]=B=>e.unref(t).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter}})),class:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-gray-800 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ga)),e.createElementVNode("div",ya,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,(B,R)=>(e.openBlock(),e.createElementBlock("div",{key:R},[ba,e.createElementVNode("span",{class:"px-1.5 py-1 text-slate-700 dark:text-slate-200 hover:bg-neutral-100 dark:hover:bg-gray-800 rounded cursor-pointer",title:B.basename,onClick:k=>e.unref(t).emit("vf-fetch",{params:{q:"index",adapter:n.data.adapter,path:B.path}})},e.toDisplayString(B.name),9,va)]))),128))]),N()?(e.openBlock(),e.createElementBlock("svg",Sa,wa)):e.createCommentVNode("",!0)],8,ma))]))}}),Ca=["onClick"],Va=e.createElementVNode("span",{class:"px-1"},null,-1),Ta=Object.assign({name:"VFContextMenu"},{props:{current:Object},setup(n){const t=e.inject("emitter"),o=e.ref(null),i=e.inject("userRole"),c=n,s=e.reactive({active:!1,items:[],positions:{left:0,top:0}}),u=e.ref([]);t.on("vf-context-selected",E=>{u.value=E});const{t:g}=e.inject("i18n"),l={newfolder:{title:()=>g("New Folder"),action:()=>{t.emit("vf-modal-show",{type:"new-folder"})}},delete:{title:()=>g("Delete"),action:()=>{t.emit("vf-modal-show",{type:"delete",items:u})}},refresh:{title:()=>g("Refresh"),action:()=>{t.emit("vf-fetch",{params:{q:"index",adapter:c.current.adapter,path:c.current.dirname}})}},preview:{title:()=>g("Audit"),action:()=>{t.emit("ca-preview",{type:"preview",adapter:c.current.adapter,item:u.value[0]})}},open:{title:()=>g("Open"),action:()=>{t.emit("vf-search-exit"),t.emit("vf-fetch",{params:{q:"index",adapter:c.current.adapter,path:u.value[0].path}})}},openDir:{title:()=>g("Open containing folder"),action:()=>{t.emit("vf-search-exit"),t.emit("vf-fetch",{params:{q:"index",adapter:c.current.adapter,path:u.value[0].dir}})}},download:{title:()=>g("Download"),action:()=>{t.emit("vf-download",u.value)}},archive:{title:()=>g("Archive"),action:()=>{t.emit("vf-modal-show",{type:"archive",items:u})}},unarchive:{title:()=>g("Unarchive"),action:()=>{t.emit("vf-modal-show",{type:"unarchive",items:u})}},rename:{title:()=>g("Edit"),action:()=>{t.emit("ca-edit",{type:"edit",items:u.value,current:c.current})}}},y=E=>{t.emit("vf-contextmenu-hide"),E.action()},p=e.ref("");t.on("vf-search-query",({newQuery:E})=>{p.value=E}),t.on("vf-contextmenu-show",({event:E,area:D,items:_,target:A=null})=>{if(s.items=[],p.value)if(A)s.items.push(l.openDir),s.items.push(l.download),t.emit("vf-context-selected",[A]);else return;else!A&&!p.value?(s.items.push(l.refresh),(S.value||N.value)&&s.items.push(l.newfolder),t.emit("vf-context-selected",[])):_.length>1&&_.some(I=>I.path===A.path)?(s.items.push(l.refresh),(S.value||N.value)&&s.items.push(l.rename),_.some(I=>I.type==="dir")||s.items.push(l.download),(S.value||N.value)&&s.items.push(l.delete),t.emit("vf-context-selected",_)):(A.type=="dir"?s.items.push(l.open):((S.value||N.value)&&s.items.push(l.preview),s.items.push(l.download)),(S.value||N.value)&&s.items.push(l.rename),(S.value||N.value)&&s.items.push(l.delete),t.emit("vf-context-selected",[A]));b(E,D)}),t.on("vf-contextmenu-hide",()=>{s.active=!1});const b=(E,D)=>{s.active=!0,e.nextTick(()=>{let _=D.getBoundingClientRect(),A=E.pageX,I=E.pageY,V=o.value.offsetHeight,B=o.value.offsetWidth;A=_.right-E.pageX+window.scrollX<B?A-B:A,I=_.bottom-E.pageY+window.scrollY<V?I-V:I,s.positions={left:A+"px",top:I+"px"}})},S=e.computed(()=>i==="admin"),N=e.computed(()=>i==="ae");return(E,D)=>s.active?(e.openBlock(),e.createElementBlock("ul",{key:0,class:"z-30 absolute text-xs bg-neutral-50 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-neutral-300 dark:border-gray-600 shadow rounded select-none",ref_key:"contextmenu",ref:o,style:e.normalizeStyle(s.positions)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.items,_=>(e.openBlock(),e.createElementBlock("li",{class:"px-2 py-1.5 cursor-pointer hover:bg-neutral-200 dark:hover:bg-gray-700",key:_.title,onClick:A=>y(_)},[Va,e.createElementVNode("span",null,e.toDisplayString(_.title()),1)],8,Ca))),128))],4)):e.createCommentVNode("",!0)}}),Ma=(n,t)=>{const o=n[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function Aa(n){const t=await Ma(Object.assign({"../locales/de.json":()=>Promise.resolve().then(()=>dd),"../locales/en.json":()=>Promise.resolve().then(()=>hd),"../locales/fa.json":()=>Promise.resolve().then(()=>ud),"../locales/he.json":()=>Promise.resolve().then(()=>fd),"../locales/hi.json":()=>Promise.resolve().then(()=>pd),"../locales/ru.json":()=>Promise.resolve().then(()=>md),"../locales/sv.json":()=>Promise.resolve().then(()=>gd),"../locales/tr.json":()=>Promise.resolve().then(()=>yd)}),`../locales/${n}.json`);return JSON.parse(t.default)}function Ba(n,t,o){const{getStore:i,setStore:c}=wt(n),s=e.ref({}),u=(y,p="en")=>{Aa(y).then(b=>{s.value=b,c("locale",y),c("translations",b),o.emit("vf-toast-push",{label:"The language is set to "+y})}).catch(b=>{p?(o.emit("vf-toast-push",{label:"The selected locale is not yet supported!",type:"error"}),u(p,null)):o.emit("vf-toast-push",{label:"Locale cannot be loaded!",type:"error"})})};i("locale")?s.value=i("translations"):u(t);const g=(y,...p)=>p.length?g(y=y.replace("%s",p.shift()),...p):y;function l(y,...p){return s.value.hasOwnProperty(y)?g(s.value[y],...p):g(y,...p)}return{t:l,changeLocale:u}}const $a={class:"vuefinder"},Ia=e.createElementVNode("iframe",{id:"download_frame",style:{display:"none"}},null,-1),Oa=Object.assign({name:"VueFinder"},{props:{url:{type:[String]},id:{type:String,default:"vf"},dark:{type:Boolean,default:!1},usePropDarkMode:{type:Boolean,default:!1},locale:{type:String,default:"en"},maxHeight:{type:String,default:"600px"},maxFileSize:{type:String,default:"10mb"},postData:{type:Object,default:{}},downloadOverrideEvent:{type:String},uploadOverrideEvent:{type:String},hideAdapterSelection:{type:Boolean,default:!1},hideLanguageSelection:{type:Boolean,default:!1},userRole:{type:String}},setup(n,{expose:t}){const o=n,i=Vn(),{setStore:c,getStore:s}=wt(o.id),u=e.ref(s("adapter"));e.provide("emitter",i),e.provide("storage",wt(o.id)),e.provide("postData",o.postData),e.provide("adapter",u),e.provide("maxFileSize",o.maxFileSize),e.provide("usePropDarkMode",o.usePropDarkMode),e.provide("downloadOverrideEvent",o.downloadOverrideEvent),e.provide("uploadOverrideEvent",o.uploadOverrideEvent),e.provide("hideAdapterSelection",o.hideAdapterSelection),e.provide("hideLanguageSelection",o.hideLanguageSelection),e.provide("userRole",o.userRole);const g=Ba(o.id,o.locale,i);e.provide("i18n",g);const{apiUrl:l,setApiUrl:y}=Se();y(o.url);const p=e.reactive({adapter:u.value,storages:[],dirname:".",files:[]}),b=e.ref(s("viewport","grid")),S=o.usePropDarkMode?e.computed(()=>o.dark):e.ref(s("darkMode",o.dark));i.on("vf-darkMode-toggle",()=>{S.value=!S.value,c("darkMode",S.value)});const N=e.ref(!1);e.provide("loadingState",N);const E=e.ref(s("full-screen",!1));i.on("vf-fullscreen-toggle",()=>{E.value=!E.value,c("full-screen",E.value)}),i.on("vf-view-toggle",V=>{b.value=V});const D=e.reactive({active:!1,type:"delete",data:{}});i.on("vf-modal-close",()=>{D.active=!1}),i.on("vf-modal-show",V=>{D.active=!0,D.type=V.type,D.data=V});const _=V=>{Object.assign(p,V),i.emit("vf-nodes-selected",{}),i.emit("vf-explorer-update")};let A;return i.on("vf-fetch-abort",()=>{A.abort(),N.value=!1}),i.on("vf-fetch",({params:V,onSuccess:B=null,onError:R=null})=>{["index","search"].includes(V.q)&&(A&&A.abort(),N.value=!0),A=new AbortController;const k=A.signal;ot(l.value,{params:V,signal:k}).then(M=>{u.value=M.adapter,["index","search"].includes(V.q)&&(N.value=!1),i.emit("vf-modal-close"),_(M),B(M)}).catch(M=>{R&&R(M)}).finally(()=>{})}),i.on("vf-download",V=>{o.downloadOverrideEvent?i.emit(o.downloadOverrideEvent,V):V.url&&(document.getElementById("download_frame").src=V.url),i.emit("vf-modal-close")}),e.onMounted(()=>{i.emit("vf-fetch",{params:{q:"index",adapter:u.value}})}),t({getEmitter:()=>i}),(V,B)=>(e.openBlock(),e.createElementBlock("div",$a,[e.createElementVNode("div",{class:e.normalizeClass(e.unref(S)?"dark":"")},[e.createElementVNode("div",{class:e.normalizeClass([E.value?"fixed w-screen inset-0 z-20":"relative rounded-md","border flex flex-col bg-white dark:bg-gray-800 text-gray-700 dark:text-neutral-400 border-neutral-300 dark:border-gray-900 min-w-min select-none"]),style:e.normalizeStyle(E.value?"":"max-height: "+n.maxHeight),onMousedown:B[0]||(B[0]=R=>e.unref(i).emit("vf-contextmenu-hide")),onTouchstart:B[1]||(B[1]=R=>e.unref(i).emit("vf-contextmenu-hide"))},[e.createVNode(Gn,{data:p},null,8,["data"]),e.createVNode(Na,{data:p},null,8,["data"]),e.createVNode(Wi,{view:b.value,data:p},null,8,["view","data"]),e.createVNode(ia,{data:p},null,8,["data"])],38),D.active?(e.openBlock(),e.createBlock(e.resolveDynamicComponent("v-f-modal-"+D.type),{key:0,selection:D.data,current:p},null,8,["selection","current"])):e.createCommentVNode("",!0),e.createVNode(Ta,{current:p},null,8,["current"]),Ia],2)]))}}),La=e.createElementVNode("div",{class:"fixed inset-0 bg-gray-500 dark:bg-gray-600 dark:bg-opacity-75 bg-opacity-75 transition-opacity"},null,-1),ja={class:"fixed z-10 inset-0 overflow-hidden"},Pa={class:"relative bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-4xl md:max-w-2xl lg:max-w-3xl xl:max-w-5xl w-full"},za={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ra={class:"bg-gray-50 dark:bg-gray-800 dark:border-t dark:border-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},fe={__name:"ModalLayout",setup(n){const t=e.inject("emitter");return e.onMounted(()=>{const o=document.querySelector(".v-f-modal input");o&&o.focus()}),(o,i)=>(e.openBlock(),e.createElementBlock("div",{class:"v-f-modal relative z-30","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onKeyup:i[1]||(i[1]=e.withKeys(c=>e.unref(t).emit("vf-modal-close"),["esc"])),tabindex:"0"},[La,e.createElementVNode("div",ja,[e.createElementVNode("div",{class:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0",onMousedown:i[0]||(i[0]=e.withModifiers(c=>e.unref(t).emit("vf-modal-close"),["self"]))},[e.createElementVNode("div",Pa,[e.createElementVNode("div",za,[e.renderSlot(o.$slots,"default")]),e.createElementVNode("div",Ra,[e.renderSlot(o.$slots,"buttons")])])],32)])],32))}},Ha=["aria-label"],Fa=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)],pe=Object.assign({name:"Message"},{props:{error:{type:Boolean,default:!1}},emits:["hidden"],setup(n,{emit:t}){var l;const{t:o}=e.inject("i18n"),i=e.ref(!1),c=e.ref(null),s=e.ref((l=c.value)==null?void 0:l.strMessage),u=t;e.watch(s,()=>i.value=!1);const g=()=>{u("hidden"),i.value=!0};return(y,p)=>(e.openBlock(),e.createElementBlock("div",null,[i.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"strMessage",ref:c,class:e.normalizeClass(["flex mt-1 p-1 px-2 rounded text-sm",n.error?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"])},[e.renderSlot(y.$slots,"default"),e.createElementVNode("div",{class:"ml-auto cursor-pointer",onClick:g,"aria-label":e.unref(o)("Close"),"data-microtip-position":"top-left",role:"tooltip"},Fa,8,Ha)],2))]))}}),Ua={class:"sm:flex sm:items-start"},Ya=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-red-600 dark:stroke-red-200",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),Ka={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Wa={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Xa={class:"mt-2"},Za={class:"text-sm text-gray-500"},qa={class:"flex text-sm text-gray-800 dark:text-gray-400"},Ga={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ja=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Qa={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},es=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],ts={class:"ml-1.5"},rs={class:"m-auto font-bold text-red-500 text-sm dark:text-red-200 text-center"},ns=Object.assign({name:"VFModalDelete"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n,s=e.ref(c.selection.items),u=e.ref(""),g=()=>{s.value.length&&t.emit("vf-fetch",{params:{q:"delete",adapter:o.value,path:c.current.dirname,items:JSON.stringify(s.value.map(({path:l,type:y})=>({path:l,type:y})))},onSuccess:()=>{t.emit("vf-toast-push",{label:i("Files deleted.")})},onError:l=>{u.value=i(l.message)}})};return(l,y)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Yes, Delete!")),1),e.createElementVNode("button",{type:"button",onClick:y[1]||(y[1]=p=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1),e.createElementVNode("div",rs,e.toDisplayString(e.unref(i)("This action cannot be undone.")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ua,[Ya,e.createElementVNode("div",Ka,[e.createElementVNode("h3",Wa,e.toDisplayString(e.unref(i)("Delete files")),1),e.createElementVNode("div",Xa,[e.createElementVNode("p",Za,e.toDisplayString(e.unref(i)("Are you sure you want to delete these files?")),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,p=>(e.openBlock(),e.createElementBlock("p",qa,[p.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Ga,Ja)):(e.openBlock(),e.createElementBlock("svg",Qa,es)),e.createElementVNode("span",ts,e.toDisplayString(p.basename),1)]))),256)),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:y[0]||(y[0]=p=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),os={class:"sm:flex sm:items-start"},is=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),as={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ss={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ls={class:"mt-2"},cs={class:"text-sm text-gray-500"},ds=Object.assign({name:"VFModalMessage"},{props:{selection:Object},setup(n){const t=e.inject("emitter"),{t:o}=e.inject("i18n");return(i,c)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:c[0]||(c[0]=s=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Close")),1)]),default:e.withCtx(()=>{var s,u;return[e.createElementVNode("div",os,[is,e.createElementVNode("div",as,[e.createElementVNode("h3",ss,e.toDisplayString(((s=n.selection)==null?void 0:s.title)??"Title"),1),e.createElementVNode("div",ls,[e.createElementVNode("p",cs,e.toDisplayString(((u=n.selection)==null?void 0:u.message)??"Message")+".",1)])])])]}),_:1}))}}),hs={class:"sm:flex sm:items-start"},us=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})])],-1),fs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ps={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ms={class:"mt-2"},gs={class:"text-sm text-gray-500"},ys=["onKeyup","placeholder"],bs=Object.assign({name:"VFModalNewFolder"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n,s=e.ref(""),u=e.ref(""),g=()=>{s.value!=""&&t.emit("vf-fetch",{params:{q:"newfolder",adapter:o.value,path:c.current.dirname,name:s.value},onSuccess:()=>{t.emit("vf-toast-push",{label:i("%s is created.",s.value)})},onError:l=>{u.value=i(l.message)}})};return(l,y)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Create")),1),e.createElementVNode("button",{type:"button",onClick:y[2]||(y[2]=p=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",hs,[us,e.createElementVNode("div",fs,[e.createElementVNode("h3",ps,e.toDisplayString(e.unref(i)("New Folder")),1),e.createElementVNode("div",ms,[e.createElementVNode("p",gs,e.toDisplayString(e.unref(i)("Create a new folder")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[0]||(y[0]=p=>s.value=p),onKeyup:e.withKeys(g,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(i)("Folder Name"),type:"text"},null,40,ys),[[e.vModelText,s.value]]),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:y[1]||(y[1]=p=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),vs={class:"sm:flex sm:items-start"},Ss=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),ws={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},_s={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},ks={class:"mt-2"},xs={class:"text-sm text-gray-500"},Ds=["onKeyup","placeholder"],Es=Object.assign({name:"VFModalNewFile"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n,s=e.ref(""),u=e.ref(""),g=()=>{s.value!=""&&t.emit("vf-fetch",{params:{q:"newfile",adapter:o.value,path:c.current.dirname,name:s.value},onSuccess:()=>{t.emit("vf-toast-push",{label:i("%s is created.",s.value)})},onError:l=>{u.value=i(l.message)}})};return(l,y)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Create")),1),e.createElementVNode("button",{type:"button",onClick:y[2]||(y[2]=p=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",vs,[Ss,e.createElementVNode("div",ws,[e.createElementVNode("h3",_s,e.toDisplayString(e.unref(i)("New File")),1),e.createElementVNode("div",ks,[e.createElementVNode("p",xs,e.toDisplayString(e.unref(i)("Create a new file")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[0]||(y[0]=p=>s.value=p),onKeyup:e.withKeys(g,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(i)("File Name"),type:"text"},null,40,Ds),[[e.vModelText,s.value]]),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:y[1]||(y[1]=p=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Ns={class:"flex"},Cs=["aria-label"],Vs={class:"ml-auto mb-2"},Ts={key:0,class:"p-2 border font-normal whitespace-pre-wrap border-gray-200 dark:border-gray-700/50 dark:text-gray-200 rounded min-h-[200px] max-h-[60vh] text-xs overflow-auto"},Ms={key:1},As={__name:"Text",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=t,i=e.ref(""),c=e.ref(""),s=e.ref(null),u=e.ref(!1),{apiUrl:g}=Se(),l=n,y=e.ref(""),p=e.ref(!1),{t:b}=e.inject("i18n");e.onMounted(()=>{ot(g.value,{params:{q:"preview",adapter:l.selection.adapter,path:l.selection.item.path},json:!1}).then(D=>{i.value=D,o("load")})});const S=()=>{u.value=!u.value,c.value=i.value,u.value==!0&&e.nextTick(()=>{s.value.focus()})},N=e.inject("postData"),E=()=>{y.value="",p.value=!1,ot(g.value,{method:"POST",params:Object.assign(N,{q:"save",adapter:l.selection.adapter,path:l.selection.item.path,content:c.value}),json:!1}).then(D=>{y.value=b("Updated."),i.value=D,o("load"),u.value=!u.value}).catch(D=>{y.value=b(D.message),p.value=!0})};return(D,_)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Ns,[e.createElementVNode("div",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Cs),e.createElementVNode("div",Vs,[u.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:E,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(b)("Save")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 text-blue-500",onClick:_[0]||(_[0]=A=>S())},e.toDisplayString(u.value?e.unref(b)("Cancel"):e.unref(b)("Edit")),1)])]),e.createElementVNode("div",null,[u.value?(e.openBlock(),e.createElementBlock("div",Ms,[e.withDirectives(e.createElementVNode("textarea",{ref_key:"editInput",ref:s,"onUpdate:modelValue":_[1]||(_[1]=A=>c.value=A),class:"w-full p-2 rounded dark:bg-gray-700 dark:text-gray-200 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:selection:bg-gray-500 min-h-[200px] max-h-[60vh] text-xs",name:"text",id:"",cols:"30",rows:"10"},null,512),[[e.vModelText,c.value]])])):(e.openBlock(),e.createElementBlock("pre",Ts,e.toDisplayString(i.value),1)),y.value.length?(e.openBlock(),e.createBlock(pe,{key:2,onHidden:_[2]||(_[2]=A=>y.value=""),error:p.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(y.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)])],64))}},Lh="";/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function zr(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),o.push.apply(o,i)}return o}function Rr(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?zr(Object(o),!0).forEach(function(i){Is(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):zr(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function It(n){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(n)}function Bs(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(n,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Ur(i.key),i)}}function $s(n,t,o){return t&&Hr(n.prototype,t),o&&Hr(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Is(n,t,o){return t=Ur(t),t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function Fr(n){return Os(n)||Ls(n)||js(n)||Ps()}function Os(n){if(Array.isArray(n))return Ot(n)}function Ls(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function js(n,t){if(n){if(typeof n=="string")return Ot(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ot(n,t)}}function Ot(n,t){(t==null||t>n.length)&&(t=n.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=n[o];return i}function Ps(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zs(n,t){if(typeof n!="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var i=o.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ur(n){var t=zs(n,"string");return typeof t=="symbol"?t:String(t)}var ht=typeof window<"u"&&typeof window.document<"u",me=ht?window:{},Lt=ht&&me.document.documentElement?"ontouchstart"in me.document.documentElement:!1,jt=ht?"PointerEvent"in me:!1,F="cropper",Pt="all",Yr="crop",Kr="move",Wr="zoom",Te="e",Me="w",Ie="s",xe="n",Ke="ne",We="nw",Xe="se",Ze="sw",zt="".concat(F,"-crop"),Xr="".concat(F,"-disabled"),Q="".concat(F,"-hidden"),Zr="".concat(F,"-hide"),Rs="".concat(F,"-invisible"),ut="".concat(F,"-modal"),Rt="".concat(F,"-move"),qe="".concat(F,"Action"),ft="".concat(F,"Preview"),Ht="crop",qr="move",Gr="none",Ft="crop",Ut="cropend",Yt="cropmove",Kt="cropstart",Jr="dblclick",Hs=Lt?"touchstart":"mousedown",Fs=Lt?"touchmove":"mousemove",Us=Lt?"touchend touchcancel":"mouseup",Qr=jt?"pointerdown":Hs,en=jt?"pointermove":Fs,tn=jt?"pointerup pointercancel":Us,rn="ready",nn="resize",on="wheel",Wt="zoom",an="image/jpeg",Ys=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ks=/^data:/,Ws=/^data:image\/jpeg;base64,/,Xs=/^img|canvas$/i,sn=200,ln=100,cn={viewMode:0,dragMode:Ht,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:sn,minContainerHeight:ln,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Zs='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',qs=Number.isNaN||me.isNaN;function j(n){return typeof n=="number"&&!qs(n)}var dn=function(t){return t>0&&t<1/0};function Xt(n){return typeof n>"u"}function Ae(n){return It(n)==="object"&&n!==null}var Gs=Object.prototype.hasOwnProperty;function Oe(n){if(!Ae(n))return!1;try{var t=n.constructor,o=t.prototype;return t&&o&&Gs.call(o,"isPrototypeOf")}catch{return!1}}function ee(n){return typeof n=="function"}var Js=Array.prototype.slice;function hn(n){return Array.from?Array.from(n):Js.call(n)}function K(n,t){return n&&ee(t)&&(Array.isArray(n)||j(n.length)?hn(n).forEach(function(o,i){t.call(n,o,i,n)}):Ae(n)&&Object.keys(n).forEach(function(o){t.call(n,n[o],o,n)})),n}var U=Object.assign||function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return Ae(t)&&i.length>0&&i.forEach(function(s){Ae(s)&&Object.keys(s).forEach(function(u){t[u]=s[u]})}),t},Qs=/\.\d*(?:0|9){12}\d*$/;function Le(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Qs.test(n)?Math.round(n*t)/t:n}var el=/^width|height|left|top|marginLeft|marginTop$/;function De(n,t){var o=n.style;K(t,function(i,c){el.test(c)&&j(i)&&(i="".concat(i,"px")),o[c]=i})}function tl(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function q(n,t){if(t){if(j(n.length)){K(n,function(i){q(i,t)});return}if(n.classList){n.classList.add(t);return}var o=n.className.trim();o?o.indexOf(t)<0&&(n.className="".concat(o," ").concat(t)):n.className=t}}function ge(n,t){if(t){if(j(n.length)){K(n,function(o){ge(o,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function je(n,t,o){if(t){if(j(n.length)){K(n,function(i){je(i,t,o)});return}o?q(n,t):ge(n,t)}}var rl=/([a-z\d])([A-Z])/g;function Zt(n){return n.replace(rl,"$1-$2").toLowerCase()}function qt(n,t){return Ae(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(Zt(t)))}function Ge(n,t,o){Ae(o)?n[t]=o:n.dataset?n.dataset[t]=o:n.setAttribute("data-".concat(Zt(t)),o)}function nl(n,t){if(Ae(n[t]))try{delete n[t]}catch{n[t]=void 0}else if(n.dataset)try{delete n.dataset[t]}catch{n.dataset[t]=void 0}else n.removeAttribute("data-".concat(Zt(t)))}var un=/\s\s*/,fn=function(){var n=!1;if(ht){var t=!1,o=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(s){t=s}});me.addEventListener("test",o,i),me.removeEventListener("test",o,i)}return n}();function le(n,t,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=o;t.trim().split(un).forEach(function(s){if(!fn){var u=n.listeners;u&&u[s]&&u[s][o]&&(c=u[s][o],delete u[s][o],Object.keys(u[s]).length===0&&delete u[s],Object.keys(u).length===0&&delete n.listeners)}n.removeEventListener(s,c,i)})}function ie(n,t,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=o;t.trim().split(un).forEach(function(s){if(i.once&&!fn){var u=n.listeners,g=u===void 0?{}:u;c=function(){delete g[s][o],n.removeEventListener(s,c,i);for(var y=arguments.length,p=new Array(y),b=0;b<y;b++)p[b]=arguments[b];o.apply(n,p)},g[s]||(g[s]={}),g[s][o]&&n.removeEventListener(s,g[s][o],i),g[s][o]=c,n.listeners=g}n.addEventListener(s,c,i)})}function Pe(n,t,o){var i;return ee(Event)&&ee(CustomEvent)?i=new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,o)),n.dispatchEvent(i)}function pn(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Gt=me.location,ol=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function mn(n){var t=n.match(ol);return t!==null&&(t[1]!==Gt.protocol||t[2]!==Gt.hostname||t[3]!==Gt.port)}function gn(n){var t="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function Je(n){var t=n.rotate,o=n.scaleX,i=n.scaleY,c=n.translateX,s=n.translateY,u=[];j(c)&&c!==0&&u.push("translateX(".concat(c,"px)")),j(s)&&s!==0&&u.push("translateY(".concat(s,"px)")),j(t)&&t!==0&&u.push("rotate(".concat(t,"deg)")),j(o)&&o!==1&&u.push("scaleX(".concat(o,")")),j(i)&&i!==1&&u.push("scaleY(".concat(i,")"));var g=u.length?u.join(" "):"none";return{WebkitTransform:g,msTransform:g,transform:g}}function il(n){var t=Rr({},n),o=0;return K(n,function(i,c){delete t[c],K(t,function(s){var u=Math.abs(i.startX-s.startX),g=Math.abs(i.startY-s.startY),l=Math.abs(i.endX-s.endX),y=Math.abs(i.endY-s.endY),p=Math.sqrt(u*u+g*g),b=Math.sqrt(l*l+y*y),S=(b-p)/p;Math.abs(S)>Math.abs(o)&&(o=S)})}),o}function pt(n,t){var o=n.pageX,i=n.pageY,c={endX:o,endY:i};return t?c:Rr({startX:o,startY:i},c)}function al(n){var t=0,o=0,i=0;return K(n,function(c){var s=c.startX,u=c.startY;t+=s,o+=u,i+=1}),t/=i,o/=i,{pageX:t,pageY:o}}function Ee(n){var t=n.aspectRatio,o=n.height,i=n.width,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=dn(i),u=dn(o);if(s&&u){var g=o*t;c==="contain"&&g>i||c==="cover"&&g<i?o=i/t:i=o*t}else s?o=i/t:u&&(i=o*t);return{width:i,height:o}}function sl(n){var t=n.width,o=n.height,i=n.degree;if(i=Math.abs(i)%180,i===90)return{width:o,height:t};var c=i%90*Math.PI/180,s=Math.sin(c),u=Math.cos(c),g=t*u+o*s,l=t*s+o*u;return i>90?{width:l,height:g}:{width:g,height:l}}function ll(n,t,o,i){var c=t.aspectRatio,s=t.naturalWidth,u=t.naturalHeight,g=t.rotate,l=g===void 0?0:g,y=t.scaleX,p=y===void 0?1:y,b=t.scaleY,S=b===void 0?1:b,N=o.aspectRatio,E=o.naturalWidth,D=o.naturalHeight,_=i.fillColor,A=_===void 0?"transparent":_,I=i.imageSmoothingEnabled,V=I===void 0?!0:I,B=i.imageSmoothingQuality,R=B===void 0?"low":B,k=i.maxWidth,M=k===void 0?1/0:k,H=i.maxHeight,X=H===void 0?1/0:H,W=i.minWidth,te=W===void 0?0:W,ae=i.minHeight,ne=ae===void 0?0:ae,re=document.createElement("canvas"),C=re.getContext("2d"),$=Ee({aspectRatio:N,width:M,height:X}),T=Ee({aspectRatio:N,width:te,height:ne},"cover"),Y=Math.min($.width,Math.max(T.width,E)),L=Math.min($.height,Math.max(T.height,D)),ce=Ee({aspectRatio:c,width:M,height:X}),se=Ee({aspectRatio:c,width:te,height:ne},"cover"),mt=Math.min(ce.width,Math.max(se.width,s)),gt=Math.min(ce.height,Math.max(se.height,u)),Qt=[-mt/2,-gt/2,mt,gt];return re.width=Le(Y),re.height=Le(L),C.fillStyle=A,C.fillRect(0,0,Y,L),C.save(),C.translate(Y/2,L/2),C.rotate(l*Math.PI/180),C.scale(p,S),C.imageSmoothingEnabled=V,C.imageSmoothingQuality=R,C.drawImage.apply(C,[n].concat(Fr(Qt.map(function(yt){return Math.floor(Le(yt))})))),C.restore(),re}var yn=String.fromCharCode;function cl(n,t,o){var i="";o+=t;for(var c=t;c<o;c+=1)i+=yn(n.getUint8(c));return i}var dl=/^data:.*,/;function hl(n){var t=n.replace(dl,""),o=atob(t),i=new ArrayBuffer(o.length),c=new Uint8Array(i);return K(c,function(s,u){c[u]=o.charCodeAt(u)}),i}function ul(n,t){for(var o=[],i=8192,c=new Uint8Array(n);c.length>0;)o.push(yn.apply(null,hn(c.subarray(0,i)))),c=c.subarray(i);return"data:".concat(t,";base64,").concat(btoa(o.join("")))}function fl(n){var t=new DataView(n),o;try{var i,c,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var u=t.byteLength,g=2;g+1<u;){if(t.getUint8(g)===255&&t.getUint8(g+1)===225){c=g;break}g+=1}if(c){var l=c+4,y=c+10;if(cl(t,l,4)==="Exif"){var p=t.getUint16(y);if(i=p===18761,(i||p===19789)&&t.getUint16(y+2,i)===42){var b=t.getUint32(y+4,i);b>=8&&(s=y+b)}}}if(s){var S=t.getUint16(s,i),N,E;for(E=0;E<S;E+=1)if(N=s+E*12+2,t.getUint16(N,i)===274){N+=8,o=t.getUint16(N,i),t.setUint16(N,1,i);break}}}catch{o=1}return o}function pl(n){var t=0,o=1,i=1;switch(n){case 2:o=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,o=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:o,scaleY:i}}var ml={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,o=this.options,i=this.container,c=this.cropper,s=Number(o.minContainerWidth),u=Number(o.minContainerHeight);q(c,Q),ge(t,Q);var g={width:Math.max(i.offsetWidth,s>=0?s:sn),height:Math.max(i.offsetHeight,u>=0?u:ln)};this.containerData=g,De(c,{width:g.width,height:g.height}),q(t,Q),ge(c,Q)},initCanvas:function(){var t=this.containerData,o=this.imageData,i=this.options.viewMode,c=Math.abs(o.rotate)%180===90,s=c?o.naturalHeight:o.naturalWidth,u=c?o.naturalWidth:o.naturalHeight,g=s/u,l=t.width,y=t.height;t.height*g>t.width?i===3?l=t.height*g:y=t.width/g:i===3?y=t.width/g:l=t.height*g;var p={aspectRatio:g,naturalWidth:s,naturalHeight:u,width:l,height:y};this.canvasData=p,this.limited=i===1||i===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=U({},p)},limitCanvas:function(t,o){var i=this.options,c=this.containerData,s=this.canvasData,u=this.cropBoxData,g=i.viewMode,l=s.aspectRatio,y=this.cropped&&u;if(t){var p=Number(i.minCanvasWidth)||0,b=Number(i.minCanvasHeight)||0;g>1?(p=Math.max(p,c.width),b=Math.max(b,c.height),g===3&&(b*l>p?p=b*l:b=p/l)):g>0&&(p?p=Math.max(p,y?u.width:0):b?b=Math.max(b,y?u.height:0):y&&(p=u.width,b=u.height,b*l>p?p=b*l:b=p/l));var S=Ee({aspectRatio:l,width:p,height:b});p=S.width,b=S.height,s.minWidth=p,s.minHeight=b,s.maxWidth=1/0,s.maxHeight=1/0}if(o)if(g>(y?0:1)){var N=c.width-s.width,E=c.height-s.height;s.minLeft=Math.min(0,N),s.minTop=Math.min(0,E),s.maxLeft=Math.max(0,N),s.maxTop=Math.max(0,E),y&&this.limited&&(s.minLeft=Math.min(u.left,u.left+(u.width-s.width)),s.minTop=Math.min(u.top,u.top+(u.height-s.height)),s.maxLeft=u.left,s.maxTop=u.top,g===2&&(s.width>=c.width&&(s.minLeft=Math.min(0,N),s.maxLeft=Math.max(0,N)),s.height>=c.height&&(s.minTop=Math.min(0,E),s.maxTop=Math.max(0,E))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=c.width,s.maxTop=c.height},renderCanvas:function(t,o){var i=this.canvasData,c=this.imageData;if(o){var s=sl({width:c.naturalWidth*Math.abs(c.scaleX||1),height:c.naturalHeight*Math.abs(c.scaleY||1),degree:c.rotate||0}),u=s.width,g=s.height,l=i.width*(u/i.naturalWidth),y=i.height*(g/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(y-i.height)/2,i.width=l,i.height=y,i.aspectRatio=u/g,i.naturalWidth=u,i.naturalHeight=g,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,De(this.canvas,U({width:i.width,height:i.height},Je({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var o=this.canvasData,i=this.imageData,c=i.naturalWidth*(o.width/o.naturalWidth),s=i.naturalHeight*(o.height/o.naturalHeight);U(i,{width:c,height:s,left:(o.width-c)/2,top:(o.height-s)/2}),De(this.image,U({width:i.width,height:i.height},Je(U({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,o=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,c=Number(t.autoCropArea)||.8,s={width:o.width,height:o.height};i&&(o.height*i>o.width?s.height=s.width/i:s.width=s.height*i),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*c),s.height=Math.max(s.minHeight,s.height*c),s.left=o.left+(o.width-s.width)/2,s.top=o.top+(o.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=U({},s)},limitCropBox:function(t,o){var i=this.options,c=this.containerData,s=this.canvasData,u=this.cropBoxData,g=this.limited,l=i.aspectRatio;if(t){var y=Number(i.minCropBoxWidth)||0,p=Number(i.minCropBoxHeight)||0,b=g?Math.min(c.width,s.width,s.width+s.left,c.width-s.left):c.width,S=g?Math.min(c.height,s.height,s.height+s.top,c.height-s.top):c.height;y=Math.min(y,c.width),p=Math.min(p,c.height),l&&(y&&p?p*l>y?p=y/l:y=p*l:y?p=y/l:p&&(y=p*l),S*l>b?S=b/l:b=S*l),u.minWidth=Math.min(y,b),u.minHeight=Math.min(p,S),u.maxWidth=b,u.maxHeight=S}o&&(g?(u.minLeft=Math.max(0,s.left),u.minTop=Math.max(0,s.top),u.maxLeft=Math.min(c.width,s.left+s.width)-u.width,u.maxTop=Math.min(c.height,s.top+s.height)-u.height):(u.minLeft=0,u.minTop=0,u.maxLeft=c.width-u.width,u.maxTop=c.height-u.height))},renderCropBox:function(){var t=this.options,o=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&Ge(this.face,qe,i.width>=o.width&&i.height>=o.height?Kr:Pt),De(this.cropBox,U({width:i.width,height:i.height},Je({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Pe(this.element,Ft,this.getData())}},gl={initPreview:function(){var t=this.element,o=this.crossOrigin,i=this.options.preview,c=o?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",u=document.createElement("img");if(o&&(u.crossOrigin=o),u.src=c,u.alt=s,this.viewBox.appendChild(u),this.viewBoxImage=u,!!i){var g=i;typeof i=="string"?g=t.ownerDocument.querySelectorAll(i):i.querySelector&&(g=[i]),this.previews=g,K(g,function(l){var y=document.createElement("img");Ge(l,ft,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),o&&(y.crossOrigin=o),y.src=c,y.alt=s,y.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(y)})}},resetPreview:function(){K(this.previews,function(t){var o=qt(t,ft);De(t,{width:o.width,height:o.height}),t.innerHTML=o.html,nl(t,ft)})},preview:function(){var t=this.imageData,o=this.canvasData,i=this.cropBoxData,c=i.width,s=i.height,u=t.width,g=t.height,l=i.left-o.left-t.left,y=i.top-o.top-t.top;!this.cropped||this.disabled||(De(this.viewBoxImage,U({width:u,height:g},Je(U({translateX:-l,translateY:-y},t)))),K(this.previews,function(p){var b=qt(p,ft),S=b.width,N=b.height,E=S,D=N,_=1;c&&(_=S/c,D=s*_),s&&D>N&&(_=N/s,E=c*_,D=N),De(p,{width:E,height:D}),De(p.getElementsByTagName("img")[0],U({width:u*_,height:g*_},Je(U({translateX:-l*_,translateY:-y*_},t))))}))}},yl={bind:function(){var t=this.element,o=this.options,i=this.cropper;ee(o.cropstart)&&ie(t,Kt,o.cropstart),ee(o.cropmove)&&ie(t,Yt,o.cropmove),ee(o.cropend)&&ie(t,Ut,o.cropend),ee(o.crop)&&ie(t,Ft,o.crop),ee(o.zoom)&&ie(t,Wt,o.zoom),ie(i,Qr,this.onCropStart=this.cropStart.bind(this)),o.zoomable&&o.zoomOnWheel&&ie(i,on,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&ie(i,Jr,this.onDblclick=this.dblclick.bind(this)),ie(t.ownerDocument,en,this.onCropMove=this.cropMove.bind(this)),ie(t.ownerDocument,tn,this.onCropEnd=this.cropEnd.bind(this)),o.responsive&&ie(window,nn,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,o=this.options,i=this.cropper;ee(o.cropstart)&&le(t,Kt,o.cropstart),ee(o.cropmove)&&le(t,Yt,o.cropmove),ee(o.cropend)&&le(t,Ut,o.cropend),ee(o.crop)&&le(t,Ft,o.crop),ee(o.zoom)&&le(t,Wt,o.zoom),le(i,Qr,this.onCropStart),o.zoomable&&o.zoomOnWheel&&le(i,on,this.onWheel,{passive:!1,capture:!0}),o.toggleDragModeOnDblclick&&le(i,Jr,this.onDblclick),le(t.ownerDocument,en,this.onCropMove),le(t.ownerDocument,tn,this.onCropEnd),o.responsive&&le(window,nn,this.onResize)}},bl={resize:function(){if(!this.disabled){var t=this.options,o=this.container,i=this.containerData,c=o.offsetWidth/i.width,s=o.offsetHeight/i.height,u=Math.abs(c-1)>Math.abs(s-1)?c:s;if(u!==1){var g,l;t.restore&&(g=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(K(g,function(y,p){g[p]=y*u})),this.setCropBoxData(K(l,function(y,p){l[p]=y*u})))}}},dblclick:function(){this.disabled||this.options.dragMode===Gr||this.setDragMode(tl(this.dragBox,zt)?qr:Ht)},wheel:function(t){var o=this,i=Number(this.options.wheelZoomRatio)||.1,c=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){o.wheeling=!1},50),t.deltaY?c=t.deltaY>0?1:-1:t.wheelDelta?c=-t.wheelDelta/120:t.detail&&(c=t.detail>0?1:-1),this.zoom(-c*i,t)))},cropStart:function(t){var o=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(j(o)&&o!==1||j(i)&&i!==0||t.ctrlKey))){var c=this.options,s=this.pointers,u;t.changedTouches?K(t.changedTouches,function(g){s[g.identifier]=pt(g)}):s[t.pointerId||0]=pt(t),Object.keys(s).length>1&&c.zoomable&&c.zoomOnTouch?u=Wr:u=qt(t.target,qe),Ys.test(u)&&Pe(this.element,Kt,{originalEvent:t,action:u})!==!1&&(t.preventDefault(),this.action=u,this.cropping=!1,u===Yr&&(this.cropping=!0,q(this.dragBox,ut)))}},cropMove:function(t){var o=this.action;if(!(this.disabled||!o)){var i=this.pointers;t.preventDefault(),Pe(this.element,Yt,{originalEvent:t,action:o})!==!1&&(t.changedTouches?K(t.changedTouches,function(c){U(i[c.identifier]||{},pt(c,!0))}):U(i[t.pointerId||0]||{},pt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var o=this.action,i=this.pointers;t.changedTouches?K(t.changedTouches,function(c){delete i[c.identifier]}):delete i[t.pointerId||0],o&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,je(this.dragBox,ut,this.cropped&&this.options.modal)),Pe(this.element,Ut,{originalEvent:t,action:o}))}}},vl={change:function(t){var o=this.options,i=this.canvasData,c=this.containerData,s=this.cropBoxData,u=this.pointers,g=this.action,l=o.aspectRatio,y=s.left,p=s.top,b=s.width,S=s.height,N=y+b,E=p+S,D=0,_=0,A=c.width,I=c.height,V=!0,B;!l&&t.shiftKey&&(l=b&&S?b/S:1),this.limited&&(D=s.minLeft,_=s.minTop,A=D+Math.min(c.width,i.width,i.left+i.width),I=_+Math.min(c.height,i.height,i.top+i.height));var R=u[Object.keys(u)[0]],k={x:R.endX-R.startX,y:R.endY-R.startY},M=function(X){switch(X){case Te:N+k.x>A&&(k.x=A-N);break;case Me:y+k.x<D&&(k.x=D-y);break;case xe:p+k.y<_&&(k.y=_-p);break;case Ie:E+k.y>I&&(k.y=I-E);break}};switch(g){case Pt:y+=k.x,p+=k.y;break;case Te:if(k.x>=0&&(N>=A||l&&(p<=_||E>=I))){V=!1;break}M(Te),b+=k.x,b<0&&(g=Me,b=-b,y-=b),l&&(S=b/l,p+=(s.height-S)/2);break;case xe:if(k.y<=0&&(p<=_||l&&(y<=D||N>=A))){V=!1;break}M(xe),S-=k.y,p+=k.y,S<0&&(g=Ie,S=-S,p-=S),l&&(b=S*l,y+=(s.width-b)/2);break;case Me:if(k.x<=0&&(y<=D||l&&(p<=_||E>=I))){V=!1;break}M(Me),b-=k.x,y+=k.x,b<0&&(g=Te,b=-b,y-=b),l&&(S=b/l,p+=(s.height-S)/2);break;case Ie:if(k.y>=0&&(E>=I||l&&(y<=D||N>=A))){V=!1;break}M(Ie),S+=k.y,S<0&&(g=xe,S=-S,p-=S),l&&(b=S*l,y+=(s.width-b)/2);break;case Ke:if(l){if(k.y<=0&&(p<=_||N>=A)){V=!1;break}M(xe),S-=k.y,p+=k.y,b=S*l}else M(xe),M(Te),k.x>=0?N<A?b+=k.x:k.y<=0&&p<=_&&(V=!1):b+=k.x,k.y<=0?p>_&&(S-=k.y,p+=k.y):(S-=k.y,p+=k.y);b<0&&S<0?(g=Ze,S=-S,b=-b,p-=S,y-=b):b<0?(g=We,b=-b,y-=b):S<0&&(g=Xe,S=-S,p-=S);break;case We:if(l){if(k.y<=0&&(p<=_||y<=D)){V=!1;break}M(xe),S-=k.y,p+=k.y,b=S*l,y+=s.width-b}else M(xe),M(Me),k.x<=0?y>D?(b-=k.x,y+=k.x):k.y<=0&&p<=_&&(V=!1):(b-=k.x,y+=k.x),k.y<=0?p>_&&(S-=k.y,p+=k.y):(S-=k.y,p+=k.y);b<0&&S<0?(g=Xe,S=-S,b=-b,p-=S,y-=b):b<0?(g=Ke,b=-b,y-=b):S<0&&(g=Ze,S=-S,p-=S);break;case Ze:if(l){if(k.x<=0&&(y<=D||E>=I)){V=!1;break}M(Me),b-=k.x,y+=k.x,S=b/l}else M(Ie),M(Me),k.x<=0?y>D?(b-=k.x,y+=k.x):k.y>=0&&E>=I&&(V=!1):(b-=k.x,y+=k.x),k.y>=0?E<I&&(S+=k.y):S+=k.y;b<0&&S<0?(g=Ke,S=-S,b=-b,p-=S,y-=b):b<0?(g=Xe,b=-b,y-=b):S<0&&(g=We,S=-S,p-=S);break;case Xe:if(l){if(k.x>=0&&(N>=A||E>=I)){V=!1;break}M(Te),b+=k.x,S=b/l}else M(Ie),M(Te),k.x>=0?N<A?b+=k.x:k.y>=0&&E>=I&&(V=!1):b+=k.x,k.y>=0?E<I&&(S+=k.y):S+=k.y;b<0&&S<0?(g=We,S=-S,b=-b,p-=S,y-=b):b<0?(g=Ze,b=-b,y-=b):S<0&&(g=Ke,S=-S,p-=S);break;case Kr:this.move(k.x,k.y),V=!1;break;case Wr:this.zoom(il(u),t),V=!1;break;case Yr:if(!k.x||!k.y){V=!1;break}B=pn(this.cropper),y=R.startX-B.left,p=R.startY-B.top,b=s.minWidth,S=s.minHeight,k.x>0?g=k.y>0?Xe:Ke:k.x<0&&(y-=b,g=k.y>0?Ze:We),k.y<0&&(p-=S),this.cropped||(ge(this.cropBox,Q),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}V&&(s.width=b,s.height=S,s.left=y,s.top=p,this.action=g,this.renderCropBox()),K(u,function(H){H.startX=H.endX,H.startY=H.endY})}},Sl={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&q(this.dragBox,ut),ge(this.cropBox,Q),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=U({},this.initialImageData),this.canvasData=U({},this.initialCanvasData),this.cropBoxData=U({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(U(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ge(this.dragBox,ut),q(this.cropBox,Q)),this},replace:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),o?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,K(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ge(this.cropper,Xr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,q(this.cropper,Xr)),this},destroy:function(){var t=this.element;return t[F]?(t[F]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,c=i.left,s=i.top;return this.moveTo(Xt(t)?t:c+Number(t),Xt(o)?o:s+Number(o))},moveTo:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,c=!1;return t=Number(t),o=Number(o),this.ready&&!this.disabled&&this.options.movable&&(j(t)&&(i.left=t,c=!0),j(o)&&(i.top=o,c=!0),c&&this.renderCanvas(!0)),this},zoom:function(t,o){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,o)},zoomTo:function(t,o,i){var c=this.options,s=this.canvasData,u=s.width,g=s.height,l=s.naturalWidth,y=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&c.zoomable){var p=l*t,b=y*t;if(Pe(this.element,Wt,{ratio:t,oldRatio:u/l,originalEvent:i})===!1)return this;if(i){var S=this.pointers,N=pn(this.cropper),E=S&&Object.keys(S).length?al(S):{pageX:i.pageX,pageY:i.pageY};s.left-=(p-u)*((E.pageX-N.left-s.left)/u),s.top-=(b-g)*((E.pageY-N.top-s.top)/g)}else Oe(o)&&j(o.x)&&j(o.y)?(s.left-=(p-u)*((o.x-s.left)/u),s.top-=(b-g)*((o.y-s.top)/g)):(s.left-=(p-u)/2,s.top-=(b-g)/2);s.width=p,s.height=b,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),j(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var o=this.imageData.scaleY;return this.scale(t,j(o)?o:1)},scaleY:function(t){var o=this.imageData.scaleX;return this.scale(j(o)?o:1,t)},scale:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,c=!1;return t=Number(t),o=Number(o),this.ready&&!this.disabled&&this.options.scalable&&(j(t)&&(i.scaleX=t,c=!0),j(o)&&(i.scaleY=o,c=!0),c&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=this.options,i=this.imageData,c=this.canvasData,s=this.cropBoxData,u;if(this.ready&&this.cropped){u={x:s.left-c.left,y:s.top-c.top,width:s.width,height:s.height};var g=i.width/i.naturalWidth;if(K(u,function(p,b){u[b]=p/g}),t){var l=Math.round(u.y+u.height),y=Math.round(u.x+u.width);u.x=Math.round(u.x),u.y=Math.round(u.y),u.width=y-u.x,u.height=l-u.y}}else u={x:0,y:0,width:0,height:0};return o.rotatable&&(u.rotate=i.rotate||0),o.scalable&&(u.scaleX=i.scaleX||1,u.scaleY=i.scaleY||1),u},setData:function(t){var o=this.options,i=this.imageData,c=this.canvasData,s={};if(this.ready&&!this.disabled&&Oe(t)){var u=!1;o.rotatable&&j(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,u=!0),o.scalable&&(j(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,u=!0),j(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,u=!0)),u&&this.renderCanvas(!0,!0);var g=i.width/i.naturalWidth;j(t.x)&&(s.left=t.x*g+c.left),j(t.y)&&(s.top=t.y*g+c.top),j(t.width)&&(s.width=t.width*g),j(t.height)&&(s.height=t.height*g),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?U({},this.containerData):{}},getImageData:function(){return this.sized?U({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,o={};return this.ready&&K(["left","top","width","height","naturalWidth","naturalHeight"],function(i){o[i]=t[i]}),o},setCanvasData:function(t){var o=this.canvasData,i=o.aspectRatio;return this.ready&&!this.disabled&&Oe(t)&&(j(t.left)&&(o.left=t.left),j(t.top)&&(o.top=t.top),j(t.width)?(o.width=t.width,o.height=t.width/i):j(t.height)&&(o.height=t.height,o.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,o;return this.ready&&this.cropped&&(o={left:t.left,top:t.top,width:t.width,height:t.height}),o||{}},setCropBoxData:function(t){var o=this.cropBoxData,i=this.options.aspectRatio,c,s;return this.ready&&this.cropped&&!this.disabled&&Oe(t)&&(j(t.left)&&(o.left=t.left),j(t.top)&&(o.top=t.top),j(t.width)&&t.width!==o.width&&(c=!0,o.width=t.width),j(t.height)&&t.height!==o.height&&(s=!0,o.height=t.height),i&&(c?o.height=o.width/i:s&&(o.width=o.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var o=this.canvasData,i=ll(this.image,this.imageData,o,t);if(!this.cropped)return i;var c=this.getData(t.rounded),s=c.x,u=c.y,g=c.width,l=c.height,y=i.width/Math.floor(o.naturalWidth);y!==1&&(s*=y,u*=y,g*=y,l*=y);var p=g/l,b=Ee({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),S=Ee({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),N=Ee({aspectRatio:p,width:t.width||(y!==1?i.width:g),height:t.height||(y!==1?i.height:l)}),E=N.width,D=N.height;E=Math.min(b.width,Math.max(S.width,E)),D=Math.min(b.height,Math.max(S.height,D));var _=document.createElement("canvas"),A=_.getContext("2d");_.width=Le(E),_.height=Le(D),A.fillStyle=t.fillColor||"transparent",A.fillRect(0,0,E,D);var I=t.imageSmoothingEnabled,V=I===void 0?!0:I,B=t.imageSmoothingQuality;A.imageSmoothingEnabled=V,B&&(A.imageSmoothingQuality=B);var R=i.width,k=i.height,M=s,H=u,X,W,te,ae,ne,re;M<=-g||M>R?(M=0,X=0,te=0,ne=0):M<=0?(te=-M,M=0,X=Math.min(R,g+M),ne=X):M<=R&&(te=0,X=Math.min(g,R-M),ne=X),X<=0||H<=-l||H>k?(H=0,W=0,ae=0,re=0):H<=0?(ae=-H,H=0,W=Math.min(k,l+H),re=W):H<=k&&(ae=0,W=Math.min(l,k-H),re=W);var C=[M,H,X,W];if(ne>0&&re>0){var $=E/g;C.push(te*$,ae*$,ne*$,re*$)}return A.drawImage.apply(A,[i].concat(Fr(C.map(function(T){return Math.floor(Le(T))})))),_},setAspectRatio:function(t){var o=this.options;return!this.disabled&&!Xt(t)&&(o.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var o=this.options,i=this.dragBox,c=this.face;if(this.ready&&!this.disabled){var s=t===Ht,u=o.movable&&t===qr;t=s||u?t:Gr,o.dragMode=t,Ge(i,qe,t),je(i,zt,s),je(i,Rt,u),o.cropBoxMovable||(Ge(c,qe,t),je(c,zt,s),je(c,Rt,u))}return this}},wl=me.Cropper,bn=function(){function n(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Bs(this,n),!t||!Xs.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=U({},cn,Oe(o)&&o),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return $s(n,[{key:"init",value:function(){var o=this.element,i=o.tagName.toLowerCase(),c;if(!o[F]){if(o[F]=this,i==="img"){if(this.isImg=!0,c=o.getAttribute("src")||"",this.originalUrl=c,!c)return;c=o.src}else i==="canvas"&&window.HTMLCanvasElement&&(c=o.toDataURL());this.load(c)}}},{key:"load",value:function(o){var i=this;if(o){this.url=o,this.imageData={};var c=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ks.test(o)){Ws.test(o)?this.read(hl(o)):this.clone();return}var u=new XMLHttpRequest,g=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.onabort=g,u.onerror=g,u.ontimeout=g,u.onprogress=function(){u.getResponseHeader("content-type")!==an&&u.abort()},u.onload=function(){i.read(u.response)},u.onloadend=function(){i.reloading=!1,i.xhr=null},s.checkCrossOrigin&&mn(o)&&c.crossOrigin&&(o=gn(o)),u.open("GET",o,!0),u.responseType="arraybuffer",u.withCredentials=c.crossOrigin==="use-credentials",u.send()}}},{key:"read",value:function(o){var i=this.options,c=this.imageData,s=fl(o),u=0,g=1,l=1;if(s>1){this.url=ul(o,an);var y=pl(s);u=y.rotate,g=y.scaleX,l=y.scaleY}i.rotatable&&(c.rotate=u),i.scalable&&(c.scaleX=g,c.scaleY=l),this.clone()}},{key:"clone",value:function(){var o=this.element,i=this.url,c=o.crossOrigin,s=i;this.options.checkCrossOrigin&&mn(i)&&(c||(c="anonymous"),s=gn(i)),this.crossOrigin=c,this.crossOriginUrl=s;var u=document.createElement("img");c&&(u.crossOrigin=c),u.src=s||i,u.alt=o.alt||"The image to crop",this.image=u,u.onload=this.start.bind(this),u.onerror=this.stop.bind(this),q(u,Zr),o.parentNode.insertBefore(u,o.nextSibling)}},{key:"start",value:function(){var o=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var c=me.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(me.navigator.userAgent),s=function(y,p){U(o.imageData,{naturalWidth:y,naturalHeight:p,aspectRatio:y/p}),o.initialImageData=U({},o.imageData),o.sizing=!1,o.sized=!0,o.build()};if(i.naturalWidth&&!c){s(i.naturalWidth,i.naturalHeight);return}var u=document.createElement("img"),g=document.body||document.documentElement;this.sizingImage=u,u.onload=function(){s(u.width,u.height),c||g.removeChild(u)},u.src=i.src,c||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",g.appendChild(u))}},{key:"stop",value:function(){var o=this.image;o.onload=null,o.onerror=null,o.parentNode.removeChild(o),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var o=this.element,i=this.options,c=this.image,s=o.parentNode,u=document.createElement("div");u.innerHTML=Zs;var g=u.querySelector(".".concat(F,"-container")),l=g.querySelector(".".concat(F,"-canvas")),y=g.querySelector(".".concat(F,"-drag-box")),p=g.querySelector(".".concat(F,"-crop-box")),b=p.querySelector(".".concat(F,"-face"));this.container=s,this.cropper=g,this.canvas=l,this.dragBox=y,this.cropBox=p,this.viewBox=g.querySelector(".".concat(F,"-view-box")),this.face=b,l.appendChild(c),q(o,Q),s.insertBefore(g,o.nextSibling),ge(c,Zr),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,q(p,Q),i.guides||q(p.getElementsByClassName("".concat(F,"-dashed")),Q),i.center||q(p.getElementsByClassName("".concat(F,"-center")),Q),i.background&&q(g,"".concat(F,"-bg")),i.highlight||q(b,Rs),i.cropBoxMovable&&(q(b,Rt),Ge(b,qe,Pt)),i.cropBoxResizable||(q(p.getElementsByClassName("".concat(F,"-line")),Q),q(p.getElementsByClassName("".concat(F,"-point")),Q)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),ee(i.ready)&&ie(o,rn,i.ready,{once:!0}),Pe(o,rn)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var o=this.cropper.parentNode;o&&o.removeChild(this.cropper),ge(this.element,Q)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=wl,n}},{key:"setDefaults",value:function(o){U(cn,Oe(o)&&o)}}]),n}();U(bn.prototype,ml,gl,yl,bl,vl,Sl);const _l={class:"flex"},kl=["aria-label"],xl={class:"ml-auto mb-2"},Dl={class:"w-full flex justify-center"},El=["src"],Nl={__name:"Image",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=t,i=n,{t:c}=e.inject("i18n"),{apiUrl:s}=Se(),u=e.ref(null),g=e.ref(null),l=e.ref(!1),y=e.ref(""),p=e.ref(!1),b=()=>{l.value=!l.value,l.value?g.value=new bn(u.value,{crop(E){}}):g.value.destroy()},S=e.inject("postData"),N=()=>{g.value.getCroppedCanvas({width:795,height:341}).toBlob(E=>{y.value="",p.value=!1,ot(s.value,{method:"POST",params:Object.assign(S,{q:"upload",adapter:i.selection.adapter,path:i.selection.item.path,file:E}),name:i.selection.item.basename,json:!1}).then(D=>{y.value=c("Updated."),u.value.src=_t(i.selection.adapter,i.selection.item.path),b(),o("load")}).catch(D=>{y.value=c(D.message),p.value=!0})})};return e.onMounted(()=>{o("load")}),(E,D)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",_l,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,kl),e.createElementVNode("div",xl,[l.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:N,class:"ml-1 px-2 py-1 rounded border border-transparent shadow-sm bg-blue-700/75 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-700/50 text-base font-medium text-white sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(c)("Crop")),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"ml-1 px-2 py-1 text-blue-500",onClick:D[0]||(D[0]=_=>b())},e.toDisplayString(l.value?e.unref(c)("Cancel"):e.unref(c)("Edit")),1)])]),e.createElementVNode("div",Dl,[e.createElementVNode("img",{ref_key:"image",ref:u,class:"max-w-[50vh] max-h-[50vh]",src:e.unref(_t)(i.selection.adapter,i.selection.item.path),alt:""},null,8,El)]),y.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:D[1]||(D[1]=_=>y.value=""),error:p.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(y.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)],64))}},Cl={class:"flex"},Vl=["aria-label"],Tl=e.createElementVNode("div",null,null,-1),Ml={__name:"Default",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const o=t;return e.onMounted(()=>{o("load")}),(i,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Cl,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Vl)]),Tl],64))}},Al=["aria-label"],Bl={class:"w-full",preload:"",controls:""},$l=["src"],Il={__name:"Video",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const{apiUrl:o}=Se(),i=n,c=t,s=()=>o.value+"?"+Re({q:"preview",adapter:i.selection.adapter,path:i.selection.item.path});return e.onMounted(()=>{c("load")}),(u,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Al),e.createElementVNode("div",null,[e.createElementVNode("video",Bl,[e.createElementVNode("source",{src:s(),type:"video/mp4"},null,8,$l),e.createTextVNode(" Your browser does not support the video tag. ")])])],64))}},Ol=["aria-label"],Ll={class:"w-full",controls:""},jl=["src"],Pl={__name:"Audio",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const{apiUrl:o}=Se(),i=n,c=t,s=()=>o.value+"?"+Re({q:"preview",adapter:i.selection.adapter,path:i.selection.item.path});return e.onMounted(()=>{c("load")}),(u,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,Ol),e.createElementVNode("div",null,[e.createElementVNode("audio",Ll,[e.createElementVNode("source",{src:s(),type:"audio/mpeg"},null,8,jl),e.createTextVNode(" Your browser does not support the audio element. ")])])],64))}},zl=["aria-label"],Rl=["data"],Hl=["src"],Fl={__name:"Pdf",props:{selection:Object},emits:["load"],setup(n,{emit:t}){const{apiUrl:o}=Se(),i=n,c=t,s=()=>o.value+"?"+Re({q:"preview",adapter:i.selection.adapter,path:i.selection.item.path});return e.onMounted(()=>{c("load")}),(u,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",{class:"mb-2 text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title","aria-label":n.selection.item.path,"data-microtip-position":"bottom-right",role:"tooltip"},e.toDisplayString(n.selection.item.basename),9,zl),e.createElementVNode("div",null,[e.createElementVNode("object",{class:"h-[60vh]",data:s(),type:"application/pdf",width:"100%",height:"100%"},[e.createElementVNode("iframe",{class:"border-0",src:s(),width:"100%",height:"100%"},`
          <p>
            Your browser does not support PDFs.
            <a href="https://example.com/test.pdf">Download the PDF</a>
            .
          </p>
        `,8,Hl)],8,Rl)])],64))}},Ul={class:"sm:flex sm:items-start"},Yl={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},Kl={class:"text-gray-700 dark:text-gray-200 text-sm"},Wl={key:0,class:"flex leading-5"},Xl=e.createElementVNode("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e.createElementVNode("circle",{class:"opacity-25 stroke-blue-900 dark:stroke-blue-100",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Zl={class:"py-2 flex font-normal break-all dark:text-gray-200 rounded text-xs"},ql={class:"font-bold pl-2"},Gl={class:"font-bold pl-2"},Jl=Object.assign({name:"VFModalPreview"},{props:{selection:Object},setup(n){const t=e.inject("emitter"),{t:o}=e.inject("i18n"),i=e.ref(!1),c=l=>i.value=l,s=n,u=l=>(s.selection.item.mime_type??"").startsWith(l),g=()=>{t.emit("vf-download",s.selection.item)};return(l,y)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:y[6]||(y[6]=p=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Close")),1),e.createElementVNode("button",{type:"button",onClick:y[7]||(y[7]=p=>g()),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-gray-400 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Download")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ul,[e.createElementVNode("div",Yl,[e.createElementVNode("div",null,[u("text")?(e.openBlock(),e.createBlock(As,{key:0,selection:n.selection,onLoad:y[0]||(y[0]=p=>c(!0))},null,8,["selection"])):u("image")?(e.openBlock(),e.createBlock(Nl,{key:1,selection:n.selection,onLoad:y[1]||(y[1]=p=>c(!0))},null,8,["selection"])):u("video")?(e.openBlock(),e.createBlock(Il,{key:2,selection:n.selection,onLoad:y[2]||(y[2]=p=>c(!0))},null,8,["selection"])):u("audio")?(e.openBlock(),e.createBlock(Pl,{key:3,selection:n.selection,onLoad:y[3]||(y[3]=p=>c(!0))},null,8,["selection"])):u("application/pdf")?(e.openBlock(),e.createBlock(Fl,{key:4,selection:n.selection,onLoad:y[4]||(y[4]=p=>c(!0))},null,8,["selection"])):(e.openBlock(),e.createBlock(Ml,{key:5,selection:n.selection,onLoad:y[5]||(y[5]=p=>c(!0))},null,8,["selection"]))]),e.createElementVNode("div",Kl,[i.value==!1?(e.openBlock(),e.createElementBlock("div",Wl,[Xl,e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("Loading")),1)])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",Zl,[e.createElementVNode("div",null,[e.createElementVNode("span",ql,e.toDisplayString(e.unref(o)("File Size"))+": ",1),e.createTextVNode(e.toDisplayString(e.unref(ir)(n.selection.item.file_size)),1)]),e.createElementVNode("div",null,[e.createElementVNode("span",Gl,e.toDisplayString(e.unref(o)("Last Modified"))+": ",1),e.createTextVNode(" "+e.toDisplayString(e.unref(ar)(n.selection.item.last_modified)),1)])])]),_:1}))}}),Ql={class:"sm:flex sm:items-start"},ec=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1),tc={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},rc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},nc={class:"mt-2"},oc={class:"flex text-sm text-gray-800 dark:text-gray-400 py-2"},ic={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ac=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],sc={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},lc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],cc={class:"ml-1.5"},dc=["onKeyup"],hc=Object.assign({name:"VFModalRename"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n,s=e.ref(c.selection.items[0]),u=e.ref(c.selection.items[0].basename),g=e.ref(""),l=()=>{u.value!=""&&t.emit("vf-fetch",{params:{q:"rename",adapter:o.value,path:c.current.dirname,item:s.value.path,name:u.value},onSuccess:()=>{t.emit("vf-toast-push",{label:i("%s is renamed.",u.value)})},onError:y=>{g.value=i(y.message)}})};return(y,p)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Rename")),1),e.createElementVNode("button",{type:"button",onClick:p[2]||(p[2]=b=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ql,[ec,e.createElementVNode("div",tc,[e.createElementVNode("h3",rc,e.toDisplayString(e.unref(i)("Rename")),1),e.createElementVNode("div",nc,[e.createElementVNode("p",oc,[s.value.type=="dir"?(e.openBlock(),e.createElementBlock("svg",ic,ac)):(e.openBlock(),e.createElementBlock("svg",sc,lc)),e.createElementVNode("span",cc,e.toDisplayString(s.value.basename),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>u.value=b),onKeyup:e.withKeys(l,["enter"]),class:"px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:"Name",type:"text"},null,40,dc),[[e.vModelText,u.value]]),g.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:p[1]||(p[1]=b=>g.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),uc={class:"sm:flex sm:items-start"},fc=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})])],-1),pc={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},mc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},gc={class:"mt-2"},yc={class:"text-gray-500 mb-1"},bc=["id"],vc={key:0,class:"py-2"},Sc=["disabled","onClick"],wc=Object.assign({name:"VFModalUpload"},{props:{current:Object},setup(n){const t=e.inject("emitter"),{apiUrl:o}=Se(),{t:i}=e.inject("i18n"),c=e.inject("maxFileSize"),s=n,u=e.ref(null),g=e.ref(null),l=e.ref(null),y=e.ref([]),p=e.ref(""),b=e.ref(!0),S=()=>{p.value="",u.value.start()},N=e.inject("postData");return e.onMounted(()=>{u.value=new be.Uploader({runtimes:"html5",browse_button:l.value,container:g.value,max_file_size:c,multiple_queues:!0,file_data_name:"file",url:o.value+"?"+Re(Object.assign(N,{q:"upload",adapter:s.current.adapter,path:s.current.dirname})),headers:{...nt&&{"X-CSRF-Token":nt}},init:{PostInit:function(){},FilesAdded:function(E,D){b.value=!1,be.each(D,function(_){y.value.push({id:_.id,name:_.name,size:be.formatSize(_.size),percent:""})})},UploadProgress:function(E,D){y.value[y.value.findIndex(_=>_.id==D.id)].percent=D.percent+"%"},UploadComplete:function(){b.value=!0,t.emit("vf-fetch",{params:{q:"index",adapter:s.current.adapter,path:s.current.dirname}})},Error:function(E,D){u.value.stop(),D.code==be.HTTP_ERROR?p.value=i(JSON.parse(D.response).message):D.code==be.FILE_SIZE_ERROR?p.value=i("The selected file exceeds the maximum file size. You cannot upload files greater than %s",[c]):p.value=i(D.message)}}}),u.value.init()}),(E,D)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{disabled:b.value,onClick:e.withModifiers(S,["prevent"]),type:"button",class:e.normalizeClass([b.value?"bg-blue-200 hover:bg-blue-200 dark:bg-gray-700/50 dark:hover:bg-gray-700/50 dark:text-gray-500":"bg-blue-600 hover:bg-blue-700 dark:bg-gray-700 dark:hover:bg-gray-500","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"])},e.toDisplayString(e.unref(i)("Upload")),11,Sc),e.createElementVNode("button",{type:"button",onClick:D[1]||(D[1]=_=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",uc,[fc,e.createElementVNode("div",pc,[e.createElementVNode("h3",mc,e.toDisplayString(e.unref(i)("Upload files")),1),e.createElementVNode("div",gc,[e.createElementVNode("div",yc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,_=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",{id:_.id},[e.createTextVNode(e.toDisplayString(_.name)+" ( "+e.toDisplayString(_.size)+") ",1),e.createElementVNode("b",null,e.toDisplayString(_.percent),1)],8,bc)]))),256)),y.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",vc,e.toDisplayString(e.unref(i)("No files selected!")),1))]),e.createElementVNode("div",{class:"text-gray-500",ref_key:"container",ref:g},[e.createElementVNode("button",{ref_key:"pickFiles",ref:l,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Select Files")),513)],512),p.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:D[0]||(D[0]=_=>p.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(p.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),_c={class:"sm:flex sm:items-start"},kc=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])],-1),xc={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Dc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Ec={class:"mt-2"},Nc={class:"flex text-sm text-gray-800 dark:text-gray-400"},Cc={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Vc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Tc={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Mc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Ac={class:"ml-1.5"},Bc=["onKeyup","placeholder"],$c=Object.assign({name:"VFModalArchive"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n,s=e.ref(""),u=e.ref(""),g=e.ref(c.selection.items),l=()=>{g.value.length&&t.emit("vf-fetch",{params:{q:"archive",adapter:o.value,path:c.current.dirname,items:JSON.stringify(g.value.map(({path:y,type:p})=>({path:y,type:p}))),name:s.value},onSuccess:()=>{t.emit("vf-toast-push",{label:i("The file(s) archived.")})},onError:y=>{u.value=i(y.message)}})};return(y,p)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Archive")),1),e.createElementVNode("button",{type:"button",onClick:p[2]||(p[2]=b=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",_c,[kc,e.createElementVNode("div",xc,[e.createElementVNode("h3",Dc,e.toDisplayString(e.unref(i)("Archive the files")),1),e.createElementVNode("div",Ec,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,b=>(e.openBlock(),e.createElementBlock("p",Nc,[b.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Cc,Vc)):(e.openBlock(),e.createElementBlock("svg",Tc,Mc)),e.createElementVNode("span",Ac,e.toDisplayString(b.basename),1)]))),256)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>s.value=b),onKeyup:e.withKeys(l,["enter"]),class:"my-1 px-2 py-1 border rounded dark:bg-gray-700/25 dark:focus:ring-gray-600 dark:focus:border-gray-600 dark:text-gray-100 w-full",placeholder:e.unref(i)("Archive name. (.zip file will be created)"),type:"text"},null,40,Bc),[[e.vModelText,s.value]]),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:p[1]||(p[1]=b=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Ic={class:"sm:flex sm:items-start"},Oc=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-50 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",fill:"none",viewBox:"0 0 24 24",stroke:"none","stroke-width":"1.5"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})])],-1),Lc={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},jc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Pc={class:"mt-2"},zc={class:"flex text-sm text-gray-800 dark:text-gray-400"},Rc={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Hc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],Fc={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Uc=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],Yc={class:"ml-1.5"},Kc={class:"my-1 text-sm text-gray-500"},Wc=Object.assign({name:"VFModalUnarchive"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter");e.inject("storage");const o=e.inject("adapter"),{t:i}=e.inject("i18n"),c=n;e.ref("");const s=e.ref(c.selection.items[0]),u=e.ref(""),g=e.ref([]),l=()=>{t.emit("vf-fetch",{params:{q:"unarchive",adapter:o.value,path:c.current.dirname,item:s.value.path},onSuccess:()=>{t.emit("vf-toast-push",{label:i("The file unarchived.")})},onError:y=>{u.value=i(y.message)}})};return(y,p)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Unarchive")),1),e.createElementVNode("button",{type:"button",onClick:p[1]||(p[1]=b=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(i)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ic,[Oc,e.createElementVNode("div",Lc,[e.createElementVNode("h3",jc,e.toDisplayString(e.unref(i)("Unarchive")),1),e.createElementVNode("div",Pc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,b=>(e.openBlock(),e.createElementBlock("p",zc,[b.type=="dir"?(e.openBlock(),e.createElementBlock("svg",Rc,Hc)):(e.openBlock(),e.createElementBlock("svg",Fc,Uc)),e.createElementVNode("span",Yc,e.toDisplayString(b.basename),1)]))),256)),e.createElementVNode("p",Kc,e.toDisplayString(e.unref(i)("The archive will be unarchived at"))+" ("+e.toDisplayString(n.current.dirname)+")",1),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:p[0]||(p[0]=b=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),Xc={class:"sm:flex sm:items-start"},Zc=e.createElementVNode("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-gray-500 sm:mx-0 sm:h-10 sm:w-10"},[e.createElementVNode("svg",{class:"h-6 w-6 stroke-red-600 dark:stroke-red-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),qc={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},Gc={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-400",id:"modal-title"},Jc={class:"mt-2"},Qc={class:"flex text-sm text-gray-800 dark:text-gray-400"},ed={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},td=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)],rd={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},nd=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)],od={class:"ml-1.5"},id={class:"text-sm text-gray-500 pb-1 pt-3"},ad={class:"flex text-sm text-gray-800 dark:text-gray-400"},sd=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1),ld={class:"ml-1.5 overflow-auto"},Jt={VueFinder:Oa,...Object.freeze(Object.defineProperty({__proto__:null,ModalArchive:$c,ModalDelete:ns,ModalMessage:ds,ModalMove:Object.assign({name:"VFModalMove"},{props:{selection:Object,current:Object},setup(n){const t=e.inject("emitter"),{t:o}=e.inject("i18n");e.inject("storage");const i=e.inject("adapter"),c=n,s=e.ref(c.selection.items.from),u=e.ref(""),g=()=>{s.value.length&&t.emit("vf-fetch",{params:{q:"move",adapter:i.value,path:c.current.dirname,items:JSON.stringify(s.value.map(({path:l,type:y})=>({path:l,type:y}))),item:c.selection.items.to.path},onSuccess:()=>{t.emit("vf-toast-push",{label:o("Files moved.",c.selection.items.to.name)})},onError:l=>{u.value=o(l.message)}})};return(l,y)=>(e.openBlock(),e.createBlock(fe,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:g,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 dark:bg-gray-700 dark:hover:bg-gray-600/75 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Yes, Move!")),1),e.createElementVNode("button",{type:"button",onClick:y[1]||(y[1]=p=>e.unref(t).emit("vf-modal-close")),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Xc,[Zc,e.createElementVNode("div",qc,[e.createElementVNode("h3",Gc,e.toDisplayString(e.unref(o)("Move files")),1),e.createElementVNode("div",Jc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,p=>(e.openBlock(),e.createElementBlock("p",Qc,[p.type=="dir"?(e.openBlock(),e.createElementBlock("svg",ed,td)):(e.openBlock(),e.createElementBlock("svg",rd,nd)),e.createElementVNode("span",od,e.toDisplayString(p.path),1)]))),256)),e.createElementVNode("p",id,e.toDisplayString(e.unref(o)("Are you sure you want to move these files?")),1),e.createElementVNode("p",ad,[sd,e.createElementVNode("span",ld,e.toDisplayString(n.selection.items.to.path),1)]),u.value.length?(e.openBlock(),e.createBlock(pe,{key:0,onHidden:y[0]||(y[0]=p=>u.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}}),ModalNewFile:Es,ModalNewFolder:bs,ModalPreview:Jl,ModalRename:hc,ModalUnarchive:Wc,ModalUpload:wc},Symbol.toStringTag,{value:"Module"}))},eu="",tu="",cd={install(n){for(const t in Jt)if(Jt.hasOwnProperty(t)){const o=Jt[t];n.component(o.name,o)}}},dd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
    "Language": "Sprache",
    "Create": "Erstellen",
    "Close": "Schließen",
    "Cancel": "Abbrechen",
    "Save": "Speichern",
    "Edit": "Bearbeiten",
    "Crop": "Zuschneiden",
    "New Folder": "Neuer Ordner",
    "New File": "Neue Datei",
    "Rename": "Umbenennen",
    "Delete": "Löschen",
    "Upload": "Hochladen",
    "Download": "Herunterladen",
    "Archive": "Archivieren",
    "Unarchive": "Dearchivieren",
    "Open": "Öffnen",
    "Open containing folder": "Enthaltenden Ordner öffnen",
    "Refresh": "Aktualisieren",
    "Preview": "Vorschau",
    "Dark Mode": "Dunkler Modus",
    "Toggle Full Screen": "Vollbild umschalten",
    "Change View": "Ansicht ändern",
    "Storage": "Speicher",
    "Go up a directory": "Ein Verzeichnis hochgehen",
    "Search anything..": "Suche etwas..",
    "Name": "Name",
    "Size": "Größe",
    "Date": "Datum",
    "Filepath": "Dateipfad",
    "About": "Über",
    "Folder Name": "Ordnername",
    "File Name": "Dateiname",
    "Move files": "Dateien verschieben",
    "Are you sure you want to move these files to?": "Sind Sie sicher, dass Sie diese Dateien verschieben möchten?",
    "Yes, Move!": "Ja, Verschieben!",
    "Delete files": "Dateien löschen",
    "Yes, Delete!": "Ja, Löschen!",
    "Upload Files": "Dateien hochladen",
    "No files selected!": "Keine Dateien ausgewählt!",
    "Select Files": "Dateien auswählen",
    "Archive the files": "Dateien archivieren",
    "Unarchive the files": "Dateien dearchivieren",
    "The archive will be unarchived at": "Das Archiv wird dearchiviert bei",
    "Archive name. (.zip file will be created)": "Archivname. (.zip Datei wird erstellt)",
    "Vuefinder is a file manager component for vue 3.": "Vuefinder ist eine Dateimanager-Komponente für Vue 3.",
    "Create a new folder": "Einen neuen Ordner erstellen",
    "Create a new file": "Eine neue Datei erstellen",
    "Are you sure you want to delete these files?": "Sind Sie sicher, dass Sie diese Dateien löschen möchten?",
    "This action cannot be undone.": "Diese Aktion kann nicht rückgängig gemacht werden.",
    "Search results for": "Suchergebnisse für",
    "item(s) selected.": "Element(e) ausgewählt.",
    "%s is renamed.": "%s wurde umbenannt.",
    "This is a readonly storage.": "Dies ist ein schreibgeschützter Speicher.",
    "%s is created.": "%s wurde erstellt.",
    "Files moved.": "Dateien verschoben.",
    "Files deleted.": "Dateien gelöscht.",
    "The file unarchived.": "Die Datei wurde dearchiviert.",
    "The file(s) archived.": "Die Datei(en) wurden archiviert.",
    "Updated.": "Aktualisiert.",
    "No search result found.": "Keine Suchergebnisse gefunden.",
    "Are you sure you want to move these files?": "Sind Sie sicher, dass Sie diese Dateien verschieben möchten?",
    "File Size": "Dateigröße",
    "Last Modified": "Zuletzt geändert",
    "Drag&Drop: on": "Drag&Drop: an",
    "Drag&Drop: off": "Drag&Drop: aus",
    "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "Die ausgewählte Datei überschreitet die maximale Dateigröße. Sie können keine Dateien hochladen, die größer sind als %s"
}
`},Symbol.toStringTag,{value:"Module"})),hd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Language",
  "Create": "Create",
  "Close": "Close",
  "Cancel": "Cancel",
  "Save": "Save",
  "Edit": "Edit",
  "Crop": "Crop",
  "New Folder": "New Folder",
  "New File": "New File",
  "Rename": "Rename",
  "Delete": "Delete",
  "Upload": "Upload",
  "Download": "Download",
  "Archive": "Archive",
  "Unarchive": "Unarchive",
  "Open": "Open",
  "Open containing folder": "Open containing folder",
  "Refresh": "Refresh",
  "Preview": "Preview",
  "Dark Mode": "Dark Mode",
  "Toggle Full Screen": "Toggle Full Screen",
  "Change View": "Change View",
  "Storage" : "Storage",
  "Go up a directory": "Go up a directory",
  "Search anything..": "Search anything..",
  "Name": "Name",
  "Size": "Size",
  "Date": "Date",
  "Filepath": "Filepath",
  "About": "About",
  "Folder Name": "Folder Name",
  "File Name": "File Name",
  "Move files": "Move files",
  "Are you sure you want to move these files to?": "Are you sure you want to move these files to?",
  "Yes, Move!": "Yes, Move!",
  "Delete files": "Delete files",
  "Yes, Delete!": "Yes, Delete!",
  "Upload Files" : "Upload Files",
  "No files selected!": "No files selected!",
  "Select Files": "Select Files",
  "Archive the files": "Archive the files",
  "Unarchive the files": "Unarchive the files",
  "The archive will be unarchived at": "The archive will be unarchived at",
  "Archive name. (.zip file will be created)": "Archive name. (.zip file will be created)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder is a file manager component for vue 3.",
  "Create a new folder": "Create a new folder",
  "Create a new file": "Create a new file",
  "Are you sure you want to delete these files?": "Are you sure you want to delete these files?",
  "This action cannot be undone.": "This action cannot be undone.",
  "Search results for" : "Search results for",
  "item(s) selected.": "item(s) selected.",
  "%s is renamed." : "%s is renamed.",
  "This is a readonly storage." : "This is a readonly storage.",
  "%s is created." : "%s is created.",
  "Files moved." : "Files moved.",
  "Files deleted." : "Files deleted.",
  "The file unarchived." : "The file unarchived.",
  "The file(s) archived." : "The file(s) archived.",
  "Updated." : "Updated.",
  "No search result found." : "No search result found.",
  "Are you sure you want to move these files?" : "Are you sure you want to move these files?",
  "File Size": "File Size",
  "Last Modified": "Last Modified",
  "Drag&Drop: on": "Drag&Drop: on",
  "Drag&Drop: off": "Drag&Drop: off",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "The selected file exceeds the maximum file size. You cannot upload files greater than %s"
}
`},Symbol.toStringTag,{value:"Module"})),ud=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "زبان",
  "Create": "ایجاد",
  "Close": "بستن",
  "Cancel": "انصراف",
  "Save": "ذخیره",
  "Edit": "ویرایش",
  "Crop": "برش تصویر",
  "New Folder": "پوشه جدید",
  "New File": "فایل جدید",
  "Rename": "تغییر نام",
  "Delete": "حذف",
  "Upload": "آپلود",
  "Download": "دانلود",
  "Archive": "فشرده سازی",
  "Unarchive": "باز کردن فایل فشرده",
  "Open": "باز کردن",
  "Open containing folder": "محتوای پوشه را باز کن!",
  "Refresh": "بارکذاری مجدد",
  "Preview": "پیشنمایش",
  "Dark Mode": "حالت شب",
  "Toggle Full Screen": "تمام تصویر کردن",
  "Change View": "تغییر نوع نمایش",
  "Storage" : "فضا",
  "Go up a directory": "برو به پوشه",
  "Search anything..": "به دنبال چه چیزی هستید ؟ جستجو کنید ...",
  "Name": "نام",
  "Size": "سایز",
  "Date": "تاریخ انتشار",
  "Filepath": "مسیر فایل",
  "About": "درباره",
  "Folder Name": "نام پوشه",
  "File Name": "نام فایل",
  "Move files": "انتقال فایل ها",
  "Are you sure you want to move these files to?": "آیا برای انتقال فایل ها مطمئن هستید ؟",
  "Yes, Move!": "بله، انتقال بده!",
  "Delete files": "پاک کردن فایل ها",
  "Yes, Delete!": "بله، پاک کن!",
  "Upload Files" : "آپلود کردن فایل ها",
  "No files selected!": "هیچ فایلی انتخاب نشده است.",
  "Select Files": "انتخاب فایل ها",
  "Archive the files": "فشرده سازی فایل ها",
  "Unarchive the files": "باز کردن فایل های فشرده",
  "The archive will be unarchived at": "فایل فشرده سازه در این مسیر باز میشود: ",
  "Archive name. (.zip file will be created)": "نام فایل فشرده",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder یک کتابخانه مدیریت فایل ها برای Vue3 میباشد.",
  "Create a new folder": "ایجاد پوشه جدید",
  "Create a new file": "ایجاد فایل جدید",
  "Are you sure you want to delete these files?": "آیا از حذف فایل ها مطمئن هستید ؟",
  "This action cannot be undone.": "این تغییرات قابل بازگشت نیست!",
  "Search results for" : "نتیجه جستجو برای",
  "item(s) selected.": "آیتم(های) انتخاب شده",
  "%s is renamed." : "تغییر نام برای %s صورت گرفت.",
  "This is a readonly storage." : "این فضا فقط قابل خواندن است!",
  "%s is created." : "%s ساخته شد!",
  "Files moved." : "فایل(ها) انقال یافتند.",
  "Files deleted." : "فایل(ها) حذف شدند.",
  "The file unarchived." : "فایل فشرده شده باز شد.",
  "The file(s) archived." : "فایل(ها) فشرده سازی شدند.",
  "Updated." : "آپدیت شد.",
  "No search result found." : "هیچ نتیجه ای یافت نشد.",
  "Are you sure you want to move these files?" : "آیا برای انتقال فایل ها مطمئن هستید ؟",
  "File Size": "سایز فایل",
  "Last Modified": "آخرین ویرایش",
  "Drag&Drop: on": "Drag&Drop: روشن",
  "Drag&Drop: off": "Drag&Drop: خاموش",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "حداکثر ظرفیت مجاز فایل %s میباشد! فایل شما بزرگتر از این مقدار میباشد."
}
`},Symbol.toStringTag,{value:"Module"})),fd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "שפה",
  "Create": "יצירה",
  "Close": "סגירה",
  "Cancel": "ביטול",
  "Save": "שמירה",
  "Edit": "עריכה",
  "Crop": "חיתוך",
  "New Folder": "תיקייה חדשה",
  "New File": "קובץ חדש",
  "Rename": "שינוי שם",
  "Delete": "מחיקה",
  "Upload": "העלאה",
  "Download": "הורדה",
  "Archive": "לדחוס",
  "Unarchive": "לחלץ",
  "Open": "פתיחה",
  "Open containing folder": "פתיחת מיקום קובץ",
  "Refresh": "רענון",
  "Preview": "תצוגה מקדימה",
  "Dark Mode": "עיצוב כהה",
  "Toggle Full Screen": "שינוי מצב מסך מלא",
  "Change View": "שינוי תצוגה",
  "Storage": "אחסון",
  "Go up a directory": "מעבר תיקייה אחת למעלה",
  "Search anything..": "חיפוש...",
  "Name": "שם",
  "Size": "גודל",
  "Date": "תאריך",
  "Filepath": "נתיב קובץ",
  "About": "אודות",
  "Folder Name": "שם התיקייה",
  "File Name": "שם הקובץ",
  "Move files": "העברת קבצים",
  "Are you sure you want to move these files to?": "האם בטוח להעביר קבצים אלה?",
  "Yes, Move!": "כן, להעביר!",
  "Delete files": "מחיקת קבצים",
  "Yes, Delete!": "כן, למחוק!",
  "Upload Files": "העלאת קבצים",
  "No files selected!": "לא נבחרו קבצים",
  "Select Files": "בחירת קבצים",
  "Archive the files": "דחיסת קבצים אלו",
  "Unarchive the files": "חילוץ קבצים אלו",
  "The archive will be unarchived at": "הארכיןם יוחלץ ל:",
  "Archive name. (.zip file will be created)": "שם הארכיון. (סיומת .zip תווסף)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder הינו רכיב מנהל קבצים עבור vue 3",
  "Create a new folder": "יצירת תיקייה חדשה",
  "Create a new file": "יצירת קובץ חדש",
  "Are you sure you want to delete these files?": "האם בטוח למחוק קבצים אלה?",
  "This action cannot be undone.": "לא ניתן לבטל פעולה זו.",
  "Search results for": "תוצאות חיפוש עבור",
  "item(s) selected.": "פריט(ים) נבחרו.",
  "%s is renamed.": "השם של %s השתנה.",
  "This is a readonly storage.": "זהו אחסון לקריאה בלבד.",
  "%s is created.": "%s נוצר",
  "Files moved.": "הקבצים הועברו.",
  "Files deleted.": "הקבצים נמחקו",
  "The file unarchived.": "הקבצים חולצו.",
  "The file(s) archived.": "הקובצים נדחסו.",
  "Updated.": "התעדכן",
  "No search result found.": "לא נמצאו תוצאות לחיפוש.",
  "Are you sure you want to move these files?": "האם בטוח להעביר קבצים אלו?",
  "File Size": "גודל קובץ",
  "Last Modified": "תאריך שינוי",
  "Drag&Drop: on": "מצב גרירה: פעיל",
  "Drag&Drop: off": "מצב גרירה: כבוי",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "הקובץ הנבחר חורג ממגבלת המקסימום של גודל קובץ. לא ניתן להעלות קובץ גדול מ-%s"
}
`},Symbol.toStringTag,{value:"Module"})),pd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "भाषा",
  "Create": "बनाएँ",
  "Close": "बंद करें",
  "Cancel": "रद्द करें",
  "Save": "सहेजें",
  "Edit": "संपादित करें",
  "Crop": "कटवा दें",
  "New Folder": "नया फ़ोल्डर",
  "New File": "नया फ़ाइल",
  "Rename": "नाम बदलें",
  "Delete": "हटाएं",
  "Upload": "अपलोड करें",
  "Download": "डाउनलोड करें",
  "Archive": "आर्काइव",
  "Unarchive": "अनआर्काइव",
  "Open": "खोलें",
  "Open containing folder": "धारक फोल्डर खोलें",
  "Refresh": "ताजगी करें",
  "Preview": "पूर्वावलोकन",
  "Dark Mode": "डार्क मोड",
  "Toggle Full Screen": "पूर्ण स्क्रीन टॉगल करें",
  "Change View": "दृश्य बदलें",
  "Storage" : "संग्रहण",
  "Go up a directory": "एक निर्देशिका ऊपर जाएं",
  "Search anything..": "कुछ भी खोजें..",
  "Name": "नाम",
  "Size": "आकार",
  "Date": "तारीख",
  "Filepath": "फ़ाइल पथ",
  "About": "के बारे में",
  "Folder Name": "फ़ोल्डर नाम",
  "File Name": "फ़ाइल नाम",
  "Move files": "फ़ाइलें ले जाएं",
  "Are you sure you want to move these files to?": "क्या आप वाकई इन फ़ाइलों को इस जगह ले जाना चाहते हैं?",
  "Yes, Move!": "हां, ले जाएं!",
  "Delete files": "फ़ाइलें हटाएं",
  "Yes, Delete!": "हां, हटाएं!",
  "Upload Files" : "फ़ाइलें अपलोड करें",
  "No files selected!": "कोई फ़ाइलें चयनित नहीं हैं!",
  "Select Files": "फ़ाइलें चयनित करें",
  "Archive the files": "फ़ाइलों को संग्रहित करें",
  "Unarchive the files": "फ़ाइलों को संग्रहण से निकालें",
  "The archive will be unarchived at": "संग्रहण इस तिथि पर से निकाला जाएगा",
  "Archive name. (.zip file will be created)": "संग्रहण का नाम (.zip फ़ाइल बनाई जाएगी)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder व्यू 3 के लिए एक फ़ाइल प्रबंधक घटक है।",
  "Create a new folder": "नया फ़ोल्डर बनाएं",
  "Create a new file": "नई फ़ाइल बनाएं",
  "Are you sure you want to delete these files?": "क्या आप वाकई इन फ़ाइलों को हटाना चाहते हैं?",
  "This action cannot be undone.": "इस क्रिया को पूर्वस्थित नहीं किया जा सकता है।",
  "Search results for": "के लिए खोज परिणाम",
  "item(s) selected.": "आइटम(आइटम) चयनित।",
  "%s is renamed.": "%s का नाम बदला गया है।",
  "This is a readonly storage.": "यह एक केवल पठनीय संग्रह है।",
  "%s is created.": "%s बनाया गया है।",
  "Files moved.": "फ़ाइलें मूव की गईं।",
  "Files deleted.": "फ़ाइलें हटा दी गईं।",
  "The file unarchived.": "फ़ाइल अनआर्काइव की गई है।",
  "The file(s) archived.": "फ़ाइल(फ़ाइलें) आर्काइव की गई हैं।",
  "Updated.": "अद्यतित।",
  "No search result found.": "कोई खोज परिणाम नहीं मिले।",
  "Are you sure you want to move these files?" : "क्या आप वाकई इन फ़ाइलों को स्थानांतरित करना चाहते हैं?",
  "File Size": "फ़ाइल का आकार",
  "Last Modified": "अंतिम संशोधित",
  "Drag&Drop: on": "ड्रैग और ड्रॉप: चालू",
  "Drag&Drop: off": "ड्रैग और ड्रॉप: बंद",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "चयनित फ़ाइल अधिकतम फ़ाइल का आकार से अधिक है। आप %s से बड़ी फ़ाइलें अपलोड नहीं कर सकते"
}`},Symbol.toStringTag,{value:"Module"})),md=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Язык",
  "Create": "Создать",
  "Close": "Закрыть",
  "Cancel": "Отмена",
  "Save": "Сохранить",
  "Edit": "Изменить",
  "Crop": "Обрезать",
  "New Folder": "Новая папка",
  "New File": "Новый файл",
  "Rename": "Переименовать",
  "Delete": "Удалить",
  "Upload": "Загрузить",
  "Download": "Скачать",
  "Archive": "Архивировать",
  "Unarchive": "Разархивировать",
  "Open": "Открыть",
  "Open containing folder": "Открыть расположение",
  "Refresh": "Обновить",
  "Preview": "Предпросмотр",
  "Dark Mode": "Тёмный режим",
  "Toggle Full Screen": "Полный экран",
  "Change View": "Изменить вид",
  "Storage" : "Хранилище",
  "Go up a directory": "Вверх",
  "Search anything..": "Поиск...",
  "Name": "Название",
  "Size": "Размер",
  "Date": "Дата",
  "Filepath": "Путь до файла",
  "About": "О компоненте",
  "Folder Name": "Название папки",
  "File Name": "Название файла",
  "Move files": "Переместить файлы",
  "Are you sure you want to move these files to?": "Вы уверены, что хотите переместить эти файлы в?",
  "Yes, Move!": "Переместить",
  "Delete files": "Удалить файлы",
  "Yes, Delete!": "Удалить",
  "Upload Files": "Загрузить файлы",
  "No files selected!": "Файлы не выбраны!",
  "Select Files": "Выбрать файлы",
  "Archive the files": "Архивировать файлы",
  "Unarchive the files": "Разархивировать файлы",
  "The archive will be unarchived at": "Архив будет разархивирован в",
  "Archive name. (.zip file will be created)": "Название архива. (будет создан .zip файл)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder - файловый менеджер, компонент для vue 3.",
  "Create a new folder": "Создать новую папку",
  "Create a new file": "Создать новый файл",
  "Are you sure you want to delete these files?": "Вы уверены, что хотите удалить эти файлы?",
  "This action cannot be undone.": "Это действия нельзя отменить.",
  "Search results for": "Результаты поиска по",
  "item(s) selected.": "выбраны.",
  "%s is renamed.": "%s переименован.",
  "This is a readonly storage.": "Данное хранилище только для чтения.",
  "%s is created.": "%s создан.",
  "Files moved.": "Файлы перемещены.",
  "Files deleted.": "Файлы удалены.",
  "The file unarchived.": "Файл разархивирован",
  "The file(s) archived.": "Файл(-ы) архивированы",
  "Updated.": "Обновлено.",
  "No search result found.": "Ничего не найдено",
  "Are you sure you want to move these files?": "Вы уверены, что хотите переместить эти файлы?",
  "File Size": "Размер файла",
  "Last Modified": "Последнее изменение",
  "Drag&Drop: on": "Drag&Drop: on",
  "Drag&Drop: off": "Drag&Drop: off"
}
`},Symbol.toStringTag,{value:"Module"})),gd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Språk",
  "Create": "Skapa",
  "Close": "Stäng",
  "Cancel": "Avbryt",
  "Save": "Spara",
  "Edit": "Redigera",
  "Crop": "Beskära",
  "New Folder": "Ny mapp",
  "New File": "Ny fil",
  "Rename": "Byt namn",
  "Delete": "Radera",
  "Upload": "Ladda upp",
  "Download": "Ladda ner",
  "Archive": "Arkivera",
  "Unarchive": "Avarkivera",
  "Open": "Öppna",
  "Open containing folder": "Öppna innehållande mapp",
  "Refresh": "Uppdatera",
  "Preview": "Förhandsgranska",
  "Dark Mode": "Mörkt läge",
  "Toggle Full Screen": "Växla till helskärm",
  "Change View": "Ändra vy",
  "Storage" : "Lagring",
  "Go up a directory": "Gå upp en katalog",
  "Search anything..": "Sök överallt..",
  "Name": "Namn",
  "Size": "Storlek",
  "Date": "Datum",
  "Filepath": "Filväg",
  "About": "Om",
  "Folder Name": "Mappnamn",
  "File Name": "Filnamn",
  "Move files": "Flytta filer",
  "Are you sure you want to move these files to?": "Är du säker på att du vill flytta dessa filer?",
  "Yes, Move!": "Ja, flytta!",
  "Delete files": "Radera filer",
  "Yes, Delete!": "Ja, radera!",
  "Upload Files" : "Ladda upp filer",
  "No files selected!": "Inga filer valda!",
  "Select Files": "Välj filer",
  "Archive the files": "Arkivera filer",
  "Unarchive the files": "Avarkivera filer",
  "The archive will be unarchived at": "Arkivet kommer att avarkiveras i",
  "Archive name. (.zip file will be created)": "Arkivnamn. (.zip-fil kommer att skapas)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder är en filhanteringskomponent för Vue 3.",
  "Create a new folder": "Skapa en ny mapp",
  "Create a new file": "Skapa en ny fil",
  "Are you sure you want to delete these files?": "Är du säker på att du vill radera dessa filer?",
  "This action cannot be undone.": "Denna åtgärd kan inte ångras.",
  "Search results for" : "Sökresultat för",
  "item(s) selected.": "objekt valda.",
  "%s is renamed." : "%s har fått ett nytt namn.",
  "This is a readonly storage." : "Detta är en skrivskyddad lagring.",
  "%s is created." : "%s har skapats.",
  "Files moved." : "Filerna har flyttats.",
  "Files deleted." : "Filerna har raderats.",
  "The file unarchived." : "Filen har avarkiverats.",
  "The file(s) archived." : "Filen/filerna har arkiverats.",
  "Updated." : "Uppdaterad.",
  "No search result found." : "Inget sökresultat hittades.",
  "Are you sure you want to move these files?" : "Är du säker på att du vill flytta dessa filer?",
  "File Size": "Filstorlek",
  "Last Modified": "Senast ändrad",
  "Drag&Drop: on": "Dra och släpp: på",
  "Drag&Drop: off": "Dra och släpp: av",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "Den valda filen överskrider den maximala filstorleken. Du kan inte ladda upp filer större än %s"
}`},Symbol.toStringTag,{value:"Module"})),yd=Object.freeze(Object.defineProperty({__proto__:null,default:`{
  "Language": "Dil",
  "Create": "Oluştur",
  "Close": "Kapat",
  "Cancel": "İptal",
  "Save": "Kaydet",
  "Edit": "Düzenle",
  "Crop": "Kes",
  "New Folder": "Yeni Klasör",
  "New File": "Yeni Dosya",
  "Rename": "Yeniden Adlandır",
  "Delete": "Sil",
  "Upload": "Karşıya Yükle",
  "Download": "İndir",
  "Archive": "Arşivle",
  "Unarchive": "Arşivden çıkar",
  "Open": "Aç",
  "Open containing folder": "İçeren klasörü aç",
  "Refresh": "Yenile",
  "Preview": "Önizleme",
  "Dark Mode": "Karanlık Mod",
  "Toggle Full Screen": "Tam ekran",
  "Change View": "Görünümü değiştir",
  "Storage": "Depo",
  "Go up a directory": "Yukarı git",
  "Search anything..": "Herhangi bir şey ara..",
  "Name": "Ad",
  "Size": "Boyut",
  "Date": "Tarih",
  "Filepath": "Dosya yolu",
  "About": "Hakkında",
  "Folder Name": "Klasör Adı",
  "File Name": "Dosya Adı",
  "Move files": "Dosyaları taşı",
  "Are you sure you want to move these files to?": "Bu dosyaları taşımak istediğinizden emin misiniz?",
  "Yes, Move!": "Evet, Taşı!",
  "Delete files": "Dosyaları Sil",
  "Yes, Delete!": "Evet, Sil!",
  "Upload files": "Dosyaları Yükle",
  "No files selected!": "Dosya Seçilmedi!",
  "Select Files": "Dosyaları Seç",
  "Archive the files": "Dosyaları arşivleyin",
  "Unarchive the files": "Dosyaları arşivden çıkarın",
  "The archive will be unarchived at": "Arşiv buraya çıkarılacak: ",
  "Archive name. (.zip file will be created)": "Archive adı. (.zip dosyası oluşturulacak)",
  "Vuefinder is a file manager component for vue 3.": "Vuefinder, vue 3 için bir web dosya yönetim bileşenidir.",
  "Create a new folder": "Yeni bir klasör oluşturun",
  "Create a new file": "Yeni bir dosya oluşturun",
  "Are you sure you want to delete these files?": "Bu dosyaları silmek istediğinize emin misiniz?",
  "This action cannot be undone.": "Bu işlem geri alınamaz.",
  "Search results for": "Arama sonuçları:",
  "item(s) selected.": "dosya seçildi.",
  "%s is renamed." : "%s yeniden adlandırılmıştır.",
  "This is a readonly storage." : "Bu salt okunur bir depolama alanıdır.",
  "%s is created." : "%s başarıyla oluşturulmuştur.",
  "Files moved." : "Dosyalar taşındı.",
  "Files deleted." : "Dosyalar silindi.",
  "The file is unarchived." : "Dosya arşivden çıkarıldı.",
  "The file(s) is archived." : "Dosyalar arşivlendi.",
  "Updated." : "Güncellendi.",
  "No search result found." : "Arama sonucu bulunamadı.",
  "Are you sure you want to move these files?" : "Bu dosyaları taşımak istediğinize emin misiniz?",
  "File Size": "Dosya Boyutu",
  "Last Modified": "Son Değişiklik",
  "Drag&Drop: on": "Sürükle&Bırak: etkin",
  "Drag&Drop: off": "Sürükle&Bırak: devre dışı",
  "The selected file exceeds the maximum file size. You cannot upload files greater than %s": "Seçilen dosya maksimum dosya boyutunu aşıyor. %s'den büyük dosyaları yükleyemezsiniz."
}
`},Symbol.toStringTag,{value:"Module"}));return cd});
